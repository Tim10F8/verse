function Nr(t,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Gs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ye={exports:{}},It={};var fs;function Ur(){if(fs)return It;fs=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,n,i){var a=null;if(i!==void 0&&(a=""+i),n.key!==void 0&&(a=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:t,type:r,key:a,ref:n!==void 0?n:null,props:i}}return It.Fragment=e,It.jsx=s,It.jsxs=s,It}var ds;function Br(){return ds||(ds=1,ye.exports=Ur()),ye.exports}var T=Br(),ge={exports:{}},F={};var ps;function Hr(){if(ps)return F;ps=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function p(d){return d===null||typeof d!="object"?null:(d=h&&d[h]||d["@@iterator"],typeof d=="function"?d:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(d,S,k){this.props=d,this.context=S,this.refs=g,this.updater=k||m}v.prototype.isReactComponent={},v.prototype.setState=function(d,S){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,S,"setState")},v.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function b(){}b.prototype=v.prototype;function w(d,S,k){this.props=d,this.context=S,this.refs=g,this.updater=k||m}var _=w.prototype=new b;_.constructor=w,y(_,v.prototype),_.isPureReactComponent=!0;var L=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(d,S,k){var E=k.ref;return{$$typeof:t,type:d,key:S,ref:E!==void 0?E:null,props:k}}function A(d,S){return x(d.type,S,d.props)}function M(d){return typeof d=="object"&&d!==null&&d.$$typeof===t}function j(d){var S={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(k){return S[k]})}var I=/\/+/g;function B(d,S){return typeof d=="object"&&d!==null&&d.key!=null?j(""+d.key):S.toString(36)}function q(d){switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status=="string"?d.then(O,O):(d.status="pending",d.then(function(S){d.status==="pending"&&(d.status="fulfilled",d.value=S)},function(S){d.status==="pending"&&(d.status="rejected",d.reason=S)})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}}throw d}function J(d,S,k,E,D){var N=typeof d;(N==="undefined"||N==="boolean")&&(d=null);var U=!1;if(d===null)U=!0;else switch(N){case"bigint":case"string":case"number":U=!0;break;case"object":switch(d.$$typeof){case t:case e:U=!0;break;case l:return U=d._init,J(U(d._payload),S,k,E,D)}}if(U)return D=D(d),U=E===""?"."+B(d,0):E,L(D)?(k="",U!=null&&(k=U.replace(I,"$&/")+"/"),J(D,S,k,"",function(wt){return wt})):D!=null&&(M(D)&&(D=A(D,k+(D.key==null||d&&d.key===D.key?"":(""+D.key).replace(I,"$&/")+"/")+U)),S.push(D)),1;U=0;var z=E===""?".":E+":";if(L(d))for(var Q=0;Q<d.length;Q++)E=d[Q],N=z+B(E,Q),U+=J(E,S,k,N,D);else if(Q=p(d),typeof Q=="function")for(d=Q.call(d),Q=0;!(E=d.next()).done;)E=E.value,N=z+B(E,Q++),U+=J(E,S,k,N,D);else if(N==="object"){if(typeof d.then=="function")return J(q(d),S,k,E,D);throw S=String(d),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return U}function _t(d,S,k){if(d==null)return d;var E=[],D=0;return J(d,E,"","",function(N){return S.call(k,N,D++)}),E}function is(d){if(d._status===-1){var S=d._result;S=S(),S.then(function(k){(d._status===0||d._status===-1)&&(d._status=1,d._result=k)},function(k){(d._status===0||d._status===-1)&&(d._status=2,d._result=k)}),d._status===-1&&(d._status=0,d._result=S)}if(d._status===1)return d._result.default;throw d._result}var kt=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Kt={map:_t,forEach:function(d,S,k){_t(d,function(){S.apply(this,arguments)},k)},count:function(d){var S=0;return _t(d,function(){S++}),S},toArray:function(d){return _t(d,function(S){return S})||[]},only:function(d){if(!M(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};return F.Activity=f,F.Children=Kt,F.Component=v,F.Fragment=s,F.Profiler=n,F.PureComponent=w,F.StrictMode=r,F.Suspense=u,F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,F.__COMPILER_RUNTIME={__proto__:null,c:function(d){return P.H.useMemoCache(d)}},F.cache=function(d){return function(){return d.apply(null,arguments)}},F.cacheSignal=function(){return null},F.cloneElement=function(d,S,k){if(d==null)throw Error("The argument must be a React element, but you passed "+d+".");var E=y({},d.props),D=d.key;if(S!=null)for(N in S.key!==void 0&&(D=""+S.key),S)!R.call(S,N)||N==="key"||N==="__self"||N==="__source"||N==="ref"&&S.ref===void 0||(E[N]=S[N]);var N=arguments.length-2;if(N===1)E.children=k;else if(1<N){for(var U=Array(N),z=0;z<N;z++)U[z]=arguments[z+2];E.children=U}return x(d.type,D,E)},F.createContext=function(d){return d={$$typeof:a,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null},d.Provider=d,d.Consumer={$$typeof:i,_context:d},d},F.createElement=function(d,S,k){var E,D={},N=null;if(S!=null)for(E in S.key!==void 0&&(N=""+S.key),S)R.call(S,E)&&E!=="key"&&E!=="__self"&&E!=="__source"&&(D[E]=S[E]);var U=arguments.length-2;if(U===1)D.children=k;else if(1<U){for(var z=Array(U),Q=0;Q<U;Q++)z[Q]=arguments[Q+2];D.children=z}if(d&&d.defaultProps)for(E in U=d.defaultProps,U)D[E]===void 0&&(D[E]=U[E]);return x(d,N,D)},F.createRef=function(){return{current:null}},F.forwardRef=function(d){return{$$typeof:o,render:d}},F.isValidElement=M,F.lazy=function(d){return{$$typeof:l,_payload:{_status:-1,_result:d},_init:is}},F.memo=function(d,S){return{$$typeof:c,type:d,compare:S===void 0?null:S}},F.startTransition=function(d){var S=P.T,k={};P.T=k;try{var E=d(),D=P.S;D!==null&&D(k,E),typeof E=="object"&&E!==null&&typeof E.then=="function"&&E.then(O,kt)}catch(N){kt(N)}finally{S!==null&&k.types!==null&&(S.types=k.types),P.T=S}},F.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},F.use=function(d){return P.H.use(d)},F.useActionState=function(d,S,k){return P.H.useActionState(d,S,k)},F.useCallback=function(d,S){return P.H.useCallback(d,S)},F.useContext=function(d){return P.H.useContext(d)},F.useDebugValue=function(){},F.useDeferredValue=function(d,S){return P.H.useDeferredValue(d,S)},F.useEffect=function(d,S){return P.H.useEffect(d,S)},F.useEffectEvent=function(d){return P.H.useEffectEvent(d)},F.useId=function(){return P.H.useId()},F.useImperativeHandle=function(d,S,k){return P.H.useImperativeHandle(d,S,k)},F.useInsertionEffect=function(d,S){return P.H.useInsertionEffect(d,S)},F.useLayoutEffect=function(d,S){return P.H.useLayoutEffect(d,S)},F.useMemo=function(d,S){return P.H.useMemo(d,S)},F.useOptimistic=function(d,S){return P.H.useOptimistic(d,S)},F.useReducer=function(d,S,k){return P.H.useReducer(d,S,k)},F.useRef=function(d){return P.H.useRef(d)},F.useState=function(d){return P.H.useState(d)},F.useSyncExternalStore=function(d,S,k){return P.H.useSyncExternalStore(d,S,k)},F.useTransition=function(){return P.H.useTransition()},F.version="19.2.4",F}var ms;function he(){return ms||(ms=1,ge.exports=Hr()),ge.exports}var C=he();const Ot=Gs(C),ho=Nr({__proto__:null,default:Ot},[C]);var ve={exports:{}},K={};var ys;function $r(){if(ys)return K;ys=1;var t=he();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)c+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,c,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:u,containerInfo:c,implementation:l}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return K.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,K.createPortal=function(u,c){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(u,c,null,l)},K.flushSync=function(u){var c=a.T,l=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=c,r.p=l,r.d.f()}},K.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},K.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},K.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var l=c.as,f=o(l,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;l==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):l==="script"&&r.d.X(u,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},K.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var l=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:l,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},K.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var l=c.as,f=o(l,c.crossOrigin);r.d.L(u,l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},K.preloadModule=function(u,c){if(typeof u=="string")if(c){var l=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:l,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},K.requestFormReset=function(u){r.d.r(u)},K.unstable_batchedUpdates=function(u,c){return u(c)},K.useFormState=function(u,c,l){return a.H.useFormState(u,c,l)},K.useFormStatus=function(){return a.H.useHostTransitionStatus()},K.version="19.2.4",K}var gs;function Qr(){if(gs)return ve.exports;gs=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ve.exports=$r(),ve.exports}const Ie=new WeakMap,qr=new WeakMap,te={current:[]};let Se=!1,Bt=0;const Ut=new Set,Wt=new Map;function Ys(t){for(const e of t){if(te.current.includes(e))continue;te.current.push(e),e.recompute();const s=qr.get(e);if(s)for(const r of s){const n=Ie.get(r);n?.length&&Ys(n)}}}function Kr(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function zr(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function Js(t){if(Bt>0&&!Wt.has(t)&&Wt.set(t,t.prevState),Ut.add(t),!(Bt>0)&&!Se)try{for(Se=!0;Ut.size>0;){const e=Array.from(Ut);Ut.clear();for(const s of e){const r=Wt.get(s)??s.prevState;s.prevState=r,Kr(s)}for(const s of e){const r=Ie.get(s);r&&(te.current.push(s),Ys(r))}for(const s of e){const r=Ie.get(s);if(r)for(const n of r)zr(n)}}}finally{Se=!1,te.current=[],Wt.clear()}}function Wr(t){Bt++;try{t()}finally{if(Bt--,Bt===0){const e=Ut.values().next().value;e&&Js(e)}}}function Vr(t){return typeof t=="function"}class Gr{constructor(e,s){this.listeners=new Set,this.subscribe=r=>{var n,i;this.listeners.add(r);const a=(i=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:i.call(n,r,this);return()=>{this.listeners.delete(r),a?.()}},this.prevState=e,this.state=e,this.options=s}setState(e){var s,r,n;this.prevState=this.state,(s=this.options)!=null&&s.updateFn?this.state=this.options.updateFn(this.prevState)(e):Vr(e)?this.state=e(this.prevState):this.state=e,(n=(r=this.options)==null?void 0:r.onUpdate)==null||n.call(r),Js(this)}}const lt="__TSR_index",vs="popstate",Ss="beforeunload";function Yr(t){let e=t.getLocation();const s=new Set,r=a=>{e=t.getLocation(),s.forEach(o=>o({location:e,action:a}))},n=a=>{t.notifyOnIndexChange??!0?r(a):e=t.getLocation()},i=async({task:a,navigateOpts:o,...u})=>{if(o?.ignoreBlocker??!1){a();return}const l=t.getBlockers?.()??[],f=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&l.length&&f)for(const h of l){const p=ee(u.path,u.state);if(await h.blockerFn({currentLocation:e,nextLocation:p,action:u.type})){t.onBlocked?.();return}}a()};return{get location(){return e},get length(){return t.getLength()},subscribers:s,subscribe:a=>(s.add(a),()=>{s.delete(a)}),push:(a,o,u)=>{const c=e.state[lt];o=Ps(c+1,o),i({task:()=>{t.pushState(a,o),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:a,state:o})},replace:(a,o,u)=>{const c=e.state[lt];o=Ps(c,o),i({task:()=>{t.replaceState(a,o),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:a,state:o})},go:(a,o)=>{i({task:()=>{t.go(a),n({type:"GO",index:a})},navigateOpts:o,type:"GO"})},back:a=>{i({task:()=>{t.back(a?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{i({task:()=>{t.forward(a?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>e.state[lt]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const o=t.getBlockers?.()??[];return t.setBlockers([...o,a]),()=>{const u=t.getBlockers?.()??[];t.setBlockers?.(u.filter(c=>c!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:r}}function Ps(t,e){e||(e={});const s=Qe();return{...e,key:s,__TSR_key:s,[lt]:t}}function Jr(t){const e=typeof document<"u"?window:void 0,s=e.history.pushState,r=e.history.replaceState;let n=[];const i=()=>n,a=R=>n=R,o=(R=>R),u=(()=>ee(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const R=Qe();e.history.replaceState({[lt]:0,key:R,__TSR_key:R},"")}let c=u(),l,f=!1,h=!1,p=!1,m=!1;const y=()=>c;let g,v;const b=()=>{g&&(P._ignoreSubscribers=!0,(g.isPush?e.history.pushState:e.history.replaceState)(g.state,"",g.href),P._ignoreSubscribers=!1,g=void 0,v=void 0,l=void 0)},w=(R,x,A)=>{const M=o(x);v||(l=c),c=ee(x,A),g={href:M,state:A,isPush:g?.isPush||R==="push"},v||(v=Promise.resolve().then(()=>b()))},_=R=>{c=u(),P.notify({type:R})},L=async()=>{if(h){h=!1;return}const R=u(),x=R.state[lt]-c.state[lt],A=x===1,M=x===-1,j=!A&&!M||f;f=!1;const I=j?"GO":M?"BACK":"FORWARD",B=j?{type:"GO",index:x}:{type:M?"BACK":"FORWARD"};if(p)p=!1;else{const q=i();if(typeof document<"u"&&q.length){for(const J of q)if(await J.blockerFn({currentLocation:c,nextLocation:R,action:I})){h=!0,e.history.go(1),P.notify(B);return}}}c=u(),P.notify(B)},O=R=>{if(m){m=!1;return}let x=!1;const A=i();if(typeof document<"u"&&A.length)for(const M of A){const j=M.enableBeforeUnload??!0;if(j===!0){x=!0;break}if(typeof j=="function"&&j()===!0){x=!0;break}}if(x)return R.preventDefault(),R.returnValue=""},P=Yr({getLocation:y,getLength:()=>e.history.length,pushState:(R,x)=>w("push",R,x),replaceState:(R,x)=>w("replace",R,x),back:R=>(R&&(p=!0),m=!0,e.history.back()),forward:R=>{R&&(p=!0),m=!0,e.history.forward()},go:R=>{f=!0,e.history.go(R)},createHref:R=>o(R),flush:b,destroy:()=>{e.history.pushState=s,e.history.replaceState=r,e.removeEventListener(Ss,O,{capture:!0}),e.removeEventListener(vs,L)},onBlocked:()=>{l&&c!==l&&(c=l)},getBlockers:i,setBlockers:a,notifyOnIndexChange:!1});return e.addEventListener(Ss,O,{capture:!0}),e.addEventListener(vs,L),e.history.pushState=function(...R){const x=s.apply(e.history,R);return P._ignoreSubscribers||_("PUSH"),x},e.history.replaceState=function(...R){const x=r.apply(e.history,R);return P._ignoreSubscribers||_("REPLACE"),x},P}function Xr(t){let e=t.replace(/[\x00-\x1f\x7f]/g,"");return e.startsWith("//")&&(e="/"+e.replace(/^\/+/,"")),e}function ee(t,e){const s=Xr(t),r=s.indexOf("#"),n=s.indexOf("?"),i=Qe();return{href:s,pathname:s.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:s.length),hash:r>-1?s.substring(r):"",search:n>-1?s.slice(n,r===-1?void 0:r):"",state:e||{[lt]:0,key:i,__TSR_key:i}}}function Qe(){return(Math.random()+1).toString(36).substring(7)}const Zr=!1;function Ht(t){let e;return Wr(()=>{e=t()}),e}function $t(t){return t[t.length-1]}function tn(t){return typeof t=="function"}function ct(t,e){return tn(t)?t(e):t}const en=Object.prototype.hasOwnProperty,Rs=Object.prototype.propertyIsEnumerable;function G(t,e,s=0){if(t===e)return t;if(s>500)return e;const r=e,n=bs(t)&&bs(r);if(!n&&!(se(t)&&se(r)))return r;const i=n?t:_s(t);if(!i)return r;const a=n?r:_s(r);if(!a)return r;const o=i.length,u=a.length,c=n?new Array(u):{};let l=0;for(let f=0;f<u;f++){const h=n?f:a[f],p=t[h],m=r[h];if(p===m){c[h]=p,(n?f<o:en.call(t,h))&&l++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){c[h]=m;continue}const y=G(p,m,s+1);c[h]=y,y===p&&l++}return o===u&&l===o?t:c}function _s(t){const e=Object.getOwnPropertyNames(t);for(const n of e)if(!Rs.call(t,n))return!1;const s=Object.getOwnPropertySymbols(t);if(s.length===0)return e;const r=e;for(const n of s){if(!Rs.call(t,n))return!1;r.push(n)}return r}function se(t){if(!ws(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!ws(s)||!s.hasOwnProperty("isPrototypeOf"))}function ws(t){return Object.prototype.toString.call(t)==="[object Object]"}function bs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yt(t,e,s){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(!yt(t[r],e[r],s))return!1;return!0}if(se(t)&&se(e)){const r=s?.ignoreUndefined??!0;if(s?.partial){for(const a in e)if((!r||e[a]!==void 0)&&!yt(t[a],e[a],s))return!1;return!0}let n=0;if(!r)n=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&n++;let i=0;for(const a in e)if((!r||e[a]!==void 0)&&(i++,i>n||!yt(t[a],e[a],s)))return!1;return n===i}return!1}function Tt(t){let e,s;const r=new Promise((n,i)=>{e=n,s=i});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),t?.(n)},r.reject=n=>{r.status="rejected",s(n)},r}function Ct(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function sn(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function xs(t){let e;try{e=decodeURI(t)}catch{e=t.replaceAll(/%[0-9A-F]{2}/gi,s=>{try{return decodeURI(s)}catch{return s}})}return sn(e)}const Xs=["http:","https:","mailto:","tel:"];function re(t){if(!t)return!1;try{const e=new URL(t);return!Xs.includes(e.protocol)}catch{return!1}}function Ft(t,e){if(!t||!/[%\\\x00-\x1f\x7f]/.test(t)&&!t.startsWith("//"))return t;const s=/%25|%5C/gi;let r=0,n="",i;for(;(i=s.exec(t))!==null;)n+=xs(t.slice(r,i.index))+i[0],r=s.lastIndex;return n=n+xs(r?t.slice(r):t),n.startsWith("//")&&(n="/"+n.replace(/^\/+/,"")),n}function rn(t){return/\s|[^\u0000-\u007F]/.test(t)?t.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):t}var nn="Invariant failed";function ot(t,e){if(!t)throw new Error(nn)}function ne(t){const e=new Map;let s,r;const n=i=>{i.next&&(i.prev?(i.prev.next=i.next,i.next.prev=i.prev,i.next=void 0,r&&(r.next=i,i.prev=r)):(i.next.prev=void 0,s=i.next,i.next=void 0,r&&(i.prev=r,r.next=i)),r=i)};return{get(i){const a=e.get(i);if(a)return n(a),a.value},set(i,a){if(e.size>=t&&s){const u=s;e.delete(u.key),u.next&&(s=u.next,u.next.prev=void 0),u===r&&(r=void 0)}const o=e.get(i);if(o)o.value=a,n(o);else{const u={key:i,value:a,prev:r};r&&(r.next=u),r=u,s||(s=u),e.set(i,u)}},clear(){e.clear(),s=void 0,r=void 0}}}const Lt=0,vt=1,St=2,Qt=3,dt=4,Zs=5;function on(t){const e=t.indexOf("{");if(e===-1)return null;const s=t.indexOf("}",e);return s===-1||e+1>=t.length?null:[e,s]}function qe(t,e,s=new Uint16Array(6)){const r=t.indexOf("/",e),n=r===-1?t.length:r,i=t.substring(e,n);if(!i||!i.includes("$"))return s[0]=Lt,s[1]=e,s[2]=e,s[3]=n,s[4]=n,s[5]=n,s;if(i==="$"){const o=t.length;return s[0]=St,s[1]=e,s[2]=e,s[3]=o,s[4]=o,s[5]=o,s}if(i.charCodeAt(0)===36)return s[0]=vt,s[1]=e,s[2]=e+1,s[3]=n,s[4]=n,s[5]=n,s;const a=on(i);if(a){const[o,u]=a,c=i.charCodeAt(o+1);if(c===45){if(o+2<i.length&&i.charCodeAt(o+2)===36){const l=o+3,f=u;if(l<f)return s[0]=Qt,s[1]=e+o,s[2]=e+l,s[3]=e+f,s[4]=e+u+1,s[5]=n,s}}else if(c===36){const l=o+1,f=o+2;return f===u?(s[0]=St,s[1]=e+o,s[2]=e+l,s[3]=e+f,s[4]=e+u+1,s[5]=t.length,s):(s[0]=vt,s[1]=e+o,s[2]=e+f,s[3]=e+u,s[4]=e+u+1,s[5]=n,s)}}return s[0]=Lt,s[1]=e,s[2]=e,s[3]=n,s[4]=n,s[5]=n,s}function fe(t,e,s,r,n,i,a){a?.(s);let o=r;{const u=s.fullPath??s.from,c=u.length,l=s.options?.caseSensitive??t,f=!!(s.options?.params?.parse&&s.options?.skipRouteOnParseError?.params);for(;o<c;){const p=qe(u,o,e);let m;const y=o,g=p[5];switch(o=g+1,i++,p[0]){case Lt:{const b=u.substring(p[2],p[3]);if(l){const w=n.static?.get(b);if(w)m=w;else{n.static??=new Map;const _=pt(s.fullPath??s.from);_.parent=n,_.depth=i,m=_,n.static.set(b,_)}}else{const w=b.toLowerCase(),_=n.staticInsensitive?.get(w);if(_)m=_;else{n.staticInsensitive??=new Map;const L=pt(s.fullPath??s.from);L.parent=n,L.depth=i,m=L,n.staticInsensitive.set(w,L)}}break}case vt:{const b=u.substring(y,p[1]),w=u.substring(p[4],g),_=l&&!!(b||w),L=b?_?b:b.toLowerCase():void 0,O=w?_?w:w.toLowerCase():void 0,P=!f&&n.dynamic?.find(R=>!R.skipOnParamError&&R.caseSensitive===_&&R.prefix===L&&R.suffix===O);if(P)m=P;else{const R=Re(vt,s.fullPath??s.from,_,L,O);m=R,R.depth=i,R.parent=n,n.dynamic??=[],n.dynamic.push(R)}break}case Qt:{const b=u.substring(y,p[1]),w=u.substring(p[4],g),_=l&&!!(b||w),L=b?_?b:b.toLowerCase():void 0,O=w?_?w:w.toLowerCase():void 0,P=!f&&n.optional?.find(R=>!R.skipOnParamError&&R.caseSensitive===_&&R.prefix===L&&R.suffix===O);if(P)m=P;else{const R=Re(Qt,s.fullPath??s.from,_,L,O);m=R,R.parent=n,R.depth=i,n.optional??=[],n.optional.push(R)}break}case St:{const b=u.substring(y,p[1]),w=u.substring(p[4],g),_=l&&!!(b||w),L=b?_?b:b.toLowerCase():void 0,O=w?_?w:w.toLowerCase():void 0,P=Re(St,s.fullPath??s.from,_,L,O);m=P,P.parent=n,P.depth=i,n.wildcard??=[],n.wildcard.push(P)}}n=m}if(f&&s.children&&!s.isRoot&&s.id&&s.id.charCodeAt(s.id.lastIndexOf("/")+1)===95){const p=pt(s.fullPath??s.from);p.kind=Zs,p.parent=n,i++,p.depth=i,n.pathless??=[],n.pathless.push(p),n=p}const h=(s.path||!s.children)&&!s.isRoot;if(h&&u.endsWith("/")){const p=pt(s.fullPath??s.from);p.kind=dt,p.parent=n,i++,p.depth=i,n.index=p,n=p}n.parse=s.options?.params?.parse??null,n.skipOnParamError=f,n.parsingPriority=s.options?.skipRouteOnParseError?.priority??0,h&&!n.route&&(n.route=s,n.fullPath=s.fullPath??s.from)}if(s.children)for(const u of s.children)fe(t,e,u,o,n,i,a)}function Pe(t,e){if(t.skipOnParamError&&!e.skipOnParamError)return-1;if(!t.skipOnParamError&&e.skipOnParamError)return 1;if(t.skipOnParamError&&e.skipOnParamError&&(t.parsingPriority||e.parsingPriority))return e.parsingPriority-t.parsingPriority;if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function at(t){if(t.pathless)for(const e of t.pathless)at(e);if(t.static)for(const e of t.static.values())at(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())at(e);if(t.dynamic?.length){t.dynamic.sort(Pe);for(const e of t.dynamic)at(e)}if(t.optional?.length){t.optional.sort(Pe);for(const e of t.optional)at(e)}if(t.wildcard?.length){t.wildcard.sort(Pe);for(const e of t.wildcard)at(e)}}function pt(t){return{kind:Lt,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function Re(t,e,s,r,n){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:s,prefix:r,suffix:n}}function an(t,e){const s=pt("/"),r=new Uint16Array(6);for(const n of t)fe(!1,r,n,1,s,0);at(s),e.masksTree=s,e.flatCache=ne(1e3)}function cn(t,e){t||="/";const s=e.flatCache.get(t);if(s)return s;const r=Ke(t,e.masksTree);return e.flatCache.set(t,r),r}function un(t,e,s,r,n){t||="/",r||="/";const i=e?`case\0${t}`:t;let a=n.singleCache.get(i);if(!a){a=pt("/");const o=new Uint16Array(6);fe(e,o,{from:t},1,a,0),n.singleCache.set(i,a)}return Ke(r,a,s)}function ln(t,e,s=!1){const r=s?t:`nofuzz\0${t}`,n=e.matchCache.get(r);if(n!==void 0)return n;t||="/";let i;try{i=Ke(t,e.segmentTree,s)}catch(a){if(a instanceof URIError)i=null;else throw a}return i&&(i.branch=dn(i.route)),e.matchCache.set(r,i),i}function hn(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function fn(t,e=!1,s){const r=pt(t.fullPath),n=new Uint16Array(6),i={},a={};let o=0;return fe(e,n,t,1,r,0,c=>{if(s?.(c,o),ot(!(c.id in i),`Duplicate routes found with id: ${String(c.id)}`),i[c.id]=c,o!==0&&c.path){const l=hn(c.fullPath);(!a[l]||c.fullPath.endsWith("/"))&&(a[l]=c)}o++}),at(r),{processedTree:{segmentTree:r,singleCache:ne(1e3),matchCache:ne(1e3),flatCache:null,masksTree:null},routesById:i,routesByPath:a}}function Ke(t,e,s=!1){const r=t.split("/"),n=mn(t,r,e,s);if(!n)return null;const[i]=tr(t,r,n);return{route:n.node.route,rawParams:i,parsedParams:n.parsedParams}}function tr(t,e,s){const r=pn(s.node);let n=null;const i={};let a=s.extract?.part??0,o=s.extract?.node??0,u=s.extract?.path??0,c=s.extract?.segment??0;for(;o<r.length;a++,o++,u++,c++){const l=r[o];if(l.kind===dt)break;if(l.kind===Zs){c--,a--,u--;continue}const f=e[a],h=u;if(f&&(u+=f.length),l.kind===vt){n??=s.node.fullPath.split("/");const p=n[c],m=l.prefix?.length??0;if(p.charCodeAt(m)===123){const g=l.suffix?.length??0,v=p.substring(m+2,p.length-g-1),b=f.substring(m,f.length-g);i[v]=decodeURIComponent(b)}else{const g=p.substring(1);i[g]=decodeURIComponent(f)}}else if(l.kind===Qt){if(s.skipped&1<<o){a--,u=h-1;continue}n??=s.node.fullPath.split("/");const p=n[c],m=l.prefix?.length??0,y=l.suffix?.length??0,g=p.substring(m+3,p.length-y-1),v=l.suffix||l.prefix?f.substring(m,f.length-y):f;v&&(i[g]=decodeURIComponent(v))}else if(l.kind===St){const p=l,m=t.substring(h+(p.prefix?.length??0),t.length-(p.suffix?.length??0)),y=decodeURIComponent(m);i["*"]=y,i._splat=y;break}}return s.rawParams&&Object.assign(i,s.rawParams),[i,{part:a,node:o,path:u,segment:c}]}function dn(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function pn(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function mn(t,e,s,r){if(t==="/"&&s.index)return{node:s.index,skipped:0};const n=!$t(e),i=n&&t!=="/",a=e.length-(n?1:0),o=[{node:s,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,c=null,l=null;for(;o.length;){const f=o.pop(),{node:h,index:p,skipped:m,depth:y,statics:g,dynamics:v,optionals:b}=f;let{extract:w,rawParams:_,parsedParams:L}=f;if(h.skipOnParamError){if(!_e(t,e,f))continue;_=f.rawParams,w=f.extract,L=f.parsedParams}r&&h.route&&h.kind!==dt&&At(c,f)&&(c=f);const O=p===a;if(O&&(h.route&&!i&&At(l,f)&&(l=f),!h.optional&&!h.wildcard&&!h.index&&!h.pathless))continue;const P=O?void 0:e[p];let R;if(O&&h.index){const x={node:h.index,index:p,skipped:m,depth:y+1,statics:g,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L};let A=!0;if(h.index.skipOnParamError&&(_e(t,e,x)||(A=!1)),A){if(g===a&&!v&&!b&&!m)return x;At(l,x)&&(l=x)}}if(h.wildcard&&At(u,f))for(const x of h.wildcard){const{prefix:A,suffix:M}=x;if(A&&(O||!(x.caseSensitive?P:R??=P.toLowerCase()).startsWith(A)))continue;if(M){if(O)continue;const I=e.slice(p).join("/").slice(-M.length);if((x.caseSensitive?I:I.toLowerCase())!==M)continue}const j={node:x,index:a,skipped:m,depth:y,statics:g,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L};if(!(x.skipOnParamError&&!_e(t,e,j))){u=j;break}}if(h.optional){const x=m|1<<y,A=y+1;for(let M=h.optional.length-1;M>=0;M--){const j=h.optional[M];o.push({node:j,index:p,skipped:x,depth:A,statics:g,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L})}if(!O)for(let M=h.optional.length-1;M>=0;M--){const j=h.optional[M],{prefix:I,suffix:B}=j;if(I||B){const q=j.caseSensitive?P:R??=P.toLowerCase();if(I&&!q.startsWith(I)||B&&!q.endsWith(B))continue}o.push({node:j,index:p+1,skipped:m,depth:A,statics:g,dynamics:v,optionals:b+1,extract:w,rawParams:_,parsedParams:L})}}if(!O&&h.dynamic&&P)for(let x=h.dynamic.length-1;x>=0;x--){const A=h.dynamic[x],{prefix:M,suffix:j}=A;if(M||j){const I=A.caseSensitive?P:R??=P.toLowerCase();if(M&&!I.startsWith(M)||j&&!I.endsWith(j))continue}o.push({node:A,index:p+1,skipped:m,depth:y+1,statics:g,dynamics:v+1,optionals:b,extract:w,rawParams:_,parsedParams:L})}if(!O&&h.staticInsensitive){const x=h.staticInsensitive.get(R??=P.toLowerCase());x&&o.push({node:x,index:p+1,skipped:m,depth:y+1,statics:g+1,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L})}if(!O&&h.static){const x=h.static.get(P);x&&o.push({node:x,index:p+1,skipped:m,depth:y+1,statics:g+1,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L})}if(h.pathless){const x=y+1;for(let A=h.pathless.length-1;A>=0;A--){const M=h.pathless[A];o.push({node:M,index:p,skipped:m,depth:x,statics:g,dynamics:v,optionals:b,extract:w,rawParams:_,parsedParams:L})}}}if(l&&u)return At(u,l)?l:u;if(l)return l;if(u)return u;if(r&&c){let f=c.index;for(let p=0;p<c.index;p++)f+=e[p].length;const h=f===t.length?"/":t.slice(f);return c.rawParams??={},c.rawParams["**"]=decodeURIComponent(h),c}return null}function _e(t,e,s){try{const[r,n]=tr(t,e,s);s.rawParams=r,s.extract=n;const i=s.node.parse(r);return s.parsedParams=Object.assign({},s.parsedParams,i),!0}catch{return null}}function At(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&((e.node.kind===dt)>(t.node.kind===dt)||e.node.kind===dt==(t.node.kind===dt)&&e.depth>t.depth))):!0}function Jt(t){return ze(t.filter(e=>e!==void 0).join("/"))}function ze(t){return t.replace(/\/{2,}/g,"/")}function er(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function it(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function sr(t){return it(er(t))}function ie(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function yn(t,e,s){return ie(t,s)===ie(e,s)}function gn({base:t,to:e,trailingSlash:s="never",cache:r}){const n=e.startsWith("/"),i=!n&&e===".";let a;if(r){a=n?e:i?t:t+"\0"+e;const f=r.get(a);if(f)return f}let o;if(i)o=t.split("/");else if(n)o=e.split("/");else{for(o=t.split("/");o.length>1&&$t(o)==="";)o.pop();const f=e.split("/");for(let h=0,p=f.length;h<p;h++){const m=f[h];m===""?h?h===p-1&&o.push(m):o=[m]:m===".."?o.pop():m==="."||o.push(m)}}o.length>1&&($t(o)===""?s==="never"&&o.pop():s==="always"&&o.push(""));let u,c="";for(let f=0;f<o.length;f++){f>0&&(c+="/");const h=o[f];if(!h)continue;u=qe(h,0,u);const p=u[0];if(p===Lt){c+=h;continue}const m=u[5],y=h.substring(0,u[1]),g=h.substring(u[4],m),v=h.substring(u[2],u[3]);p===vt?c+=y||g?`${y}{$${v}}${g}`:`$${v}`:p===St?c+=y||g?`${y}{$}${g}`:"$":c+=`${y}{-$${v}}${g}`}c=ze(c);const l=c||"/";return a&&r&&r.set(a,l),l}function vn(t){const e=new Map(t.map(n=>[encodeURIComponent(n),n])),s=Array.from(e.keys()).map(n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),r=new RegExp(s,"g");return n=>n.replace(r,i=>e.get(i)??i)}function we(t,e,s){const r=e[t];return typeof r!="string"?r:t==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(r)?r:r.split("/").map(n=>Cs(n,s)).join("/"):Cs(r,s)}function be({path:t,params:e,decoder:s,...r}){let n=!1;const i={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:i,isMissingParams:n};if(!t.includes("$"))return{interpolatedPath:t,usedParams:i,isMissingParams:n};const a=t.length;let o=0,u,c="";for(;o<a;){const f=o;u=qe(t,f,u);const h=u[5];if(o=h+1,f===h)continue;const p=u[0];if(p===Lt){c+="/"+t.substring(f,h);continue}if(p===St){const m=e._splat;i._splat=m,i["*"]=m;const y=t.substring(f,u[1]),g=t.substring(u[4],h);if(!m){n=!0,(y||g)&&(c+="/"+y+g);continue}const v=we("_splat",e,s);c+="/"+y+v+g;continue}if(p===vt){const m=t.substring(u[2],u[3]);!n&&!(m in e)&&(n=!0),i[m]=e[m];const y=t.substring(f,u[1]),g=t.substring(u[4],h),v=we(m,e,s)??"undefined";c+="/"+y+v+g;continue}if(p===Qt){const m=t.substring(u[2],u[3]),y=e[m];if(y==null)continue;i[m]=y;const g=t.substring(f,u[1]),v=t.substring(u[4],h),b=we(m,e,s)??"";c+="/"+g+b+v;continue}}return t.endsWith("/")&&(c+="/"),{usedParams:i,interpolatedPath:c||"/",isMissingParams:n}}function Cs(t,e){const s=encodeURIComponent(t);return e?.(s)??s}function X(t){return!!t?.isNotFound}function Sn(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Fe="tsr-scroll-restoration-v1_3",Pn=(t,e)=>{let s;return(...r)=>{s||(s=setTimeout(()=>{t(...r),s=null},e))}};function Rn(){const t=Sn();if(!t)return null;const e=t.getItem(Fe);let s=e?JSON.parse(e):{};return{state:s,set:r=>{s=ct(r,s)||s;try{t.setItem(Fe,JSON.stringify(s))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Vt=Rn(),_n=t=>t.state.__TSR_key||t.href;function wn(t){const e=[];let s;for(;s=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(s.children,t)+1})`),t=s;return`${e.reverse().join(" > ")}`.toLowerCase()}let oe=!1;function bn({storageKey:t,key:e,behavior:s,shouldScrollRestoration:r,scrollToTopSelectors:n,location:i}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(c){console.error(c);return}const o=e||window.history.state?.__TSR_key,u=a[o];oe=!0;t:{if(r&&u&&Object.keys(u).length>0){for(const f in u){const h=u[f];if(f==="window")window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:s});else if(f){const p=document.querySelector(f);p&&(p.scrollLeft=h.scrollX,p.scrollTop=h.scrollY)}}break t}const c=(i??window.location).hash.split("#",2)[1];if(c){const f=window.history.state?.__hashScrollIntoViewOptions??!0;if(f){const h=document.getElementById(c);h&&h.scrollIntoView(f)}break t}const l={top:0,left:0,behavior:s};if(window.scrollTo(l),n)for(const f of n){if(f==="window")continue;const h=typeof f=="function"?f():document.querySelector(f);h&&h.scrollTo(l)}}oe=!1}function xn(t,e){if(!Vt||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isScrollRestorationSetup||!Vt))return;t.isScrollRestorationSetup=!0,oe=!1;const r=t.options.getScrollRestorationKey||_n;window.history.scrollRestoration="manual";const n=i=>{if(oe||!t.isScrollRestoring)return;let a="";if(i.target===document||i.target===window)a="window";else{const u=i.target.getAttribute("data-scroll-restoration-id");u?a=`[data-scroll-restoration-id="${u}"]`:a=wn(i.target)}const o=r(t.state.location);Vt.set(u=>{const c=u[o]||={},l=c[a]||={};if(a==="window")l.scrollX=window.scrollX||0,l.scrollY=window.scrollY||0;else if(a){const f=document.querySelector(a);f&&(l.scrollX=f.scrollLeft||0,l.scrollY=f.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",Pn(n,100),!0),t.subscribe("onRendered",i=>{const a=r(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(bn({storageKey:Fe,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Vt.set(o=>(o[a]||={},o)))})}function Cn(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const s=document.getElementById(t.state.location.hash);s&&s.scrollIntoView(e)}}}function En(t,e=String){const s=new URLSearchParams;for(const r in t){const n=t[r];n!==void 0&&s.set(r,e(n))}return s.toString()}function xe(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function On(t){const e=new URLSearchParams(t),s={};for(const[r,n]of e.entries()){const i=s[r];i==null?s[r]=xe(n):Array.isArray(i)?i.push(xe(n)):s[r]=[i,xe(n)]}return s}const Tn=Mn(JSON.parse),Ln=kn(JSON.stringify,JSON.parse);function Mn(t){return e=>{e[0]==="?"&&(e=e.substring(1));const s=On(e);for(const r in s){const n=s[r];if(typeof n=="string")try{s[r]=t(n)}catch{}}return s}}function kn(t,e){const s=typeof e=="function";function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(s&&typeof n=="string")try{return e(n),t(n)}catch{}return n}return n=>{const i=En(n,r);return i?`?${i}`:""}}const Z="__root__";function In(t){if(t.statusCode=t.statusCode||t.code||307,!t._builtLocation&&typeof t.href=="string"&&re(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${Xs.join(", ")} protocols are allowed.`);if(!t._builtLocation&&!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const s=new Response(null,{status:t.statusCode,headers:e});if(s.options=t,t.throw)throw s;return s}function et(t){return t instanceof Response&&!!t.options}const Xt=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},de=(t,e)=>!!(t.preload&&!t.router.state.matches.some(s=>s.id===e)),Et=(t,e,s=!0)=>{const r={...t.router.options.context??{}},n=s?e:e-1;for(let i=0;i<=n;i++){const a=t.matches[i];if(!a)continue;const o=t.router.getMatch(a.id);o&&Object.assign(r,o.__routeContext,o.__beforeLoadContext)}return r},rr=(t,e)=>{const s=t.router.routesById[e.routeId??""]??t.router.routeTree;!s.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(s.options.notFoundComponent=t.router.options.defaultNotFoundComponent),ot(s.options.notFoundComponent);const r=t.matches.find(n=>n.routeId===s.id);ot(r,"Could not find match for route: "+s.id),t.updateMatch(r.id,n=>({...n,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&s.parentRoute&&(e.routeId=s.parentRoute.id,rr(t,e))},ut=(t,e,s)=>{if(!(!et(s)&&!X(s))){if(et(s)&&s.redirectHandled&&!s.options.reloadDocument)throw s;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const r=et(s)?"redirected":"notFound";e._nonReactive.error=s,t.updateMatch(e.id,n=>({...n,status:r,context:Et(t,e.index),isFetching:!1,error:s})),X(s)&&!s.routeId&&(s.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw et(s)?(t.rendered=!0,s.options._fromLocation=t.location,s.redirectHandled=!0,s=t.router.resolveRedirect(s),s):(rr(t,s),s)}},nr=(t,e)=>!!t.router.getMatch(e)._nonReactive.dehydrated,Dt=(t,e,s,r)=>{const{id:n,routeId:i}=t.matches[e],a=t.router.looseRoutesById[i];if(s instanceof Promise)throw s;s.routerCode=r,t.firstBadMatchIndex??=e,ut(t,t.router.getMatch(n),s);try{a.options.onError?.(s)}catch(o){s=o,ut(t,t.router.getMatch(n),s)}t.updateMatch(n,o=>(o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,o._nonReactive.loadPromise?.resolve(),{...o,error:s,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},ir=(t,e,s,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;const n=s.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!de(t,e)&&(s.options.loader||s.options.beforeLoad||cr(s))&&typeof n=="number"&&n!==1/0&&(s.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{Xt(t)},n);r._nonReactive.pendingTimeout=a}},Fn=(t,e,s)=>{const r=t.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;ir(t,e,s,r);const n=()=>{const i=t.router.getMatch(e);i.preload&&(i.status==="redirected"||i.status==="notFound")&&ut(t,i,i.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(n):n()},An=(t,e,s,r)=>{const n=t.router.getMatch(e),i=n._nonReactive.loadPromise;n._nonReactive.loadPromise=Tt(()=>{i?.resolve()});const{paramsError:a,searchError:o}=n;a&&Dt(t,s,a,"PARSE_PARAMS"),o&&Dt(t,s,o,"VALIDATE_SEARCH"),ir(t,e,r,n);const u=new AbortController;let c=!1;const l=()=>{c||(c=!0,t.updateMatch(e,_=>({..._,isFetching:"beforeLoad",fetchCount:_.fetchCount+1,abortController:u})))},f=()=>{n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,_=>({..._,isFetching:!1}))};if(!r.options.beforeLoad){Ht(()=>{l(),f()});return}n._nonReactive.beforeLoadPromise=Tt();const h={...Et(t,s,!1),...n.__routeContext},{search:p,params:m,cause:y}=n,g=de(t,e),v={search:p,abortController:u,params:m,preload:g,context:h,location:t.location,navigate:_=>t.router.navigate({..._,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:g?"preload":y,matches:t.matches,routeId:r.id,...t.router.options.additionalContext},b=_=>{if(_===void 0){Ht(()=>{l(),f()});return}(et(_)||X(_))&&(l(),Dt(t,s,_,"BEFORE_LOAD")),Ht(()=>{l(),t.updateMatch(e,L=>({...L,__beforeLoadContext:_})),f()})};let w;try{if(w=r.options.beforeLoad(v),Ct(w))return l(),w.catch(_=>{Dt(t,s,_,"BEFORE_LOAD")}).then(b)}catch(_){l(),Dt(t,s,_,"BEFORE_LOAD")}b(w)},Dn=(t,e)=>{const{id:s,routeId:r}=t.matches[e],n=t.router.looseRoutesById[r],i=()=>o(),a=()=>An(t,s,e,n),o=()=>{if(nr(t,s))return;const u=Fn(t,s,n);return Ct(u)?u.then(a):a()};return i()},jn=(t,e,s)=>{const r=t.router.getMatch(e);if(!r||!s.options.head&&!s.options.scripts&&!s.options.headers)return;const n={ssr:t.router.options.ssr,matches:t.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([s.options.head?.(n),s.options.scripts?.(n),s.options.headers?.(n)]).then(([i,a,o])=>{const u=i?.meta,c=i?.links,l=i?.scripts,f=i?.styles;return{meta:u,links:c,headScripts:l,headers:o,scripts:a,styles:f}})},or=(t,e,s,r)=>{const n=t.matchPromises[s-1],{params:i,loaderDeps:a,abortController:o,cause:u}=t.router.getMatch(e),c=Et(t,s),l=de(t,e);return{params:i,deps:a,preload:!!l,parentMatchPromise:n,abortController:o,context:c,location:t.location,navigate:f=>t.router.navigate({...f,_fromLocation:t.location}),cause:l?"preload":u,route:r,...t.router.options.additionalContext}},Es=async(t,e,s,r)=>{try{const n=t.router.getMatch(e);try{(!(Zr??t.router.isServer)||n.ssr===!0)&&ar(r);const i=r.options.loader?.(or(t,e,s,r)),a=r.options.loader&&Ct(i);if((a||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||n._nonReactive.minPendingPromise)&&t.updateMatch(e,c=>({...c,isFetching:"loader"})),r.options.loader){const c=a?await i:i;ut(t,t.router.getMatch(e),c),c!==void 0&&t.updateMatch(e,l=>({...l,loaderData:c}))}r._lazyPromise&&await r._lazyPromise;const u=n._nonReactive.minPendingPromise;u&&await u,r._componentsPromise&&await r._componentsPromise,t.updateMatch(e,c=>({...c,error:void 0,context:Et(t,s),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(i){let a=i;if(a?.name==="AbortError"){t.updateMatch(e,u=>({...u,status:u.status==="pending"?"success":u.status,isFetching:!1,context:Et(t,s)}));return}const o=n._nonReactive.minPendingPromise;o&&await o,X(i)&&await r.options.notFoundComponent?.preload?.(),ut(t,t.router.getMatch(e),i);try{r.options.onError?.(i)}catch(u){a=u,ut(t,t.router.getMatch(e),u)}t.updateMatch(e,u=>({...u,error:a,context:Et(t,s),status:"error",isFetching:!1}))}}catch(n){const i=t.router.getMatch(e);i&&(i._nonReactive.loaderPromise=void 0),ut(t,i,n)}},Nn=async(t,e)=>{const{id:s,routeId:r}=t.matches[e];let n=!1,i=!1;const a=t.router.looseRoutesById[r];if(!nr(t,s)){const c=t.router.getMatch(s);if(c._nonReactive.loaderPromise){if(c.status==="success"&&!t.sync&&!c.preload)return c;await c._nonReactive.loaderPromise;const l=t.router.getMatch(s),f=l._nonReactive.error||l.error;f&&ut(t,l,f)}else{const l=Date.now()-c.updatedAt,f=de(t,s),h=f?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,p=a.options.shouldReload,m=typeof p=="function"?p(or(t,s,e,a)):p,y=!!f&&!t.router.state.matches.some(w=>w.id===s),g=t.router.getMatch(s);g._nonReactive.loaderPromise=Tt(),y!==g.preload&&t.updateMatch(s,w=>({...w,preload:y}));const{status:v,invalid:b}=g;n=v==="success"&&(b||(m??l>h)),f&&a.options.preload===!1||(n&&!t.sync?(i=!0,(async()=>{try{await Es(t,s,e,a);const w=t.router.getMatch(s);w._nonReactive.loaderPromise?.resolve(),w._nonReactive.loadPromise?.resolve(),w._nonReactive.loaderPromise=void 0}catch(w){et(w)&&await t.router.navigate(w.options)}})()):(v!=="success"||n&&t.sync)&&await Es(t,s,e,a))}}const o=t.router.getMatch(s);i||(o._nonReactive.loaderPromise?.resolve(),o._nonReactive.loadPromise?.resolve()),clearTimeout(o._nonReactive.pendingTimeout),o._nonReactive.pendingTimeout=void 0,i||(o._nonReactive.loaderPromise=void 0),o._nonReactive.dehydrated=void 0;const u=i?o.isFetching:!1;return u!==o.isFetching||o.invalid!==!1?(t.updateMatch(s,c=>({...c,isFetching:u,invalid:!1})),t.router.getMatch(s)):o};async function Os(t){const e=Object.assign(t,{matchPromises:[]});e.router.state.matches.some(s=>s._forcePending)&&Xt(e);try{for(let o=0;o<e.matches.length;o++){const u=Dn(e,o);Ct(u)&&await u}const s=e.firstBadMatchIndex??e.matches.length;for(let o=0;o<s;o++)e.matchPromises.push(Nn(e,o));const n=(await Promise.allSettled(e.matchPromises)).filter(o=>o.status==="rejected").map(o=>o.reason);let i;for(const o of n){if(et(o))throw o;!i&&X(o)&&(i=o)}for(const o of e.matches){const{id:u,routeId:c}=o,l=e.router.looseRoutesById[c];try{const f=jn(e,u,l);if(f){const h=await f;e.updateMatch(u,p=>({...p,...h}))}}catch(f){console.error(`Error executing head for route ${c}:`,f)}}if(i)throw i;const a=Xt(e);Ct(a)&&await a}catch(s){if(X(s)&&!e.preload){const r=Xt(e);throw Ct(r)&&await r,s}if(et(s))throw s}return e.matches}async function ar(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:s,...r}=e.options;Object.assign(t.options,r),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const s=[];for(const r of ur){const n=t.options[r]?.preload;n&&s.push(n())}if(s.length)return Promise.all(s).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function cr(t){for(const e of ur)if(t.options[e]?.preload)return!0;return!1}const ur=["component","errorComponent","pendingComponent","notFoundComponent"];function Un(t){return{input:({url:e})=>{for(const s of t)e=Ae(s,e);return e},output:({url:e})=>{for(let s=t.length-1;s>=0;s--)e=lr(t[s],e);return e}}}function Bn(t){const e=sr(t.basepath),s=`/${e}`,r=`${s}/`,n=t.caseSensitive?s:s.toLowerCase(),i=t.caseSensitive?r:r.toLowerCase();return{input:({url:a})=>{const o=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return o===n?a.pathname="/":o.startsWith(i)&&(a.pathname=a.pathname.slice(s.length)),a},output:({url:a})=>(a.pathname=Jt(["/",e,a.pathname]),a)}}function Ae(t,e){const s=t?.input?.({url:e});if(s){if(typeof s=="string")return new URL(s);if(s instanceof URL)return s}return e}function lr(t,e){const s=t?.output?.({url:e});if(s){if(typeof s=="string")return new URL(s);if(s instanceof URL)return s}return e}function gt(t){const e=t.resolvedLocation,s=t.location,r=e?.pathname!==s.pathname,n=e?.href!==s.href,i=e?.hash!==s.hash;return{fromLocation:e,toLocation:s,pathChanged:r,hrefChanged:n,hashChanged:i}}class Hn{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=s=>s(),this.update=s=>{s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,n=this.basepath??r?.basepath??"/",i=this.basepath===void 0,a=r?.rewrite;if(this.options={...r,...s},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=vn(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=Jr()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let h;this.resolvePathCache=ne(1e3),h=this.buildRouteTree(),this.setRoutes(h)}!this.__store&&this.latestLocation&&(this.__store=new Gr(Qn(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(h=>!["redirected"].includes(h.status))}}}),xn(this));let o=!1;const u=this.options.basepath??"/",c=this.options.rewrite;if(i||n!==u||a!==c){this.basepath=u;const h=[],p=sr(u);p&&p!=="/"&&h.push(Bn({basepath:u})),c&&h.push(c),this.rewrite=h.length===0?void 0:h.length===1?h[0]:Un(h),this.history&&this.updateLatestLocation(),o=!0}o&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const s=fn(this.routeTree,this.options.caseSensitive,(r,n)=>{r.init({originalIndex:n})});return this.options.routeMasks&&an(this.options.routeMasks,s.processedTree),s},this.subscribe=(s,r)=>{const n={eventType:s,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=s=>{this.subscribers.forEach(r=>{r.eventType===s.type&&r.fn(s)})},this.parseLocation=(s,r)=>{const n=({pathname:u,search:c,hash:l,href:f,state:h})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(u)){const b=this.options.parseSearch(c),w=this.options.stringifySearch(b);return{href:u+w+l,publicHref:f,pathname:Ft(u),external:!1,searchStr:w,search:G(r?.search,b),hash:Ft(l.slice(1)),state:G(r?.state,h)}}const p=new URL(f,this.origin),m=Ae(this.rewrite,p),y=this.options.parseSearch(m.search),g=this.options.stringifySearch(y);return m.search=g,{href:m.href.replace(m.origin,""),publicHref:f,pathname:Ft(m.pathname),external:!!this.rewrite&&m.origin!==this.origin,searchStr:g,search:G(r?.search,y),hash:Ft(m.hash.slice(1)),state:G(r?.state,h)}},i=n(s),{__tempLocation:a,__tempKey:o}=i.state;if(a&&(!o||o===this.tempLocationKey)){const u=n(a);return u.state.key=i.state.key,u.state.__TSR_key=i.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:i}}return i},this.resolvePathWithBase=(s,r)=>gn({base:s,to:ze(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(s,r,n)=>typeof s=="string"?this.matchRoutesInternal({pathname:s,search:r},n):this.matchRoutesInternal(s,r),this.getMatchedRoutes=s=>qn({pathname:s,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=s=>{const r=this.getMatch(s);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const s=this.state.matches.filter(i=>i.status==="pending"),r=this.state.matches.filter(i=>i.isFetching==="loader");new Set([...this.state.pendingMatches??[],...s,...r]).forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=s=>{const r=(i={})=>{const a=i._fromLocation||this.pendingBuiltLocation||this.latestLocation,o=this.matchRoutesLightweight(a);i.from;const u=i.unsafeRelative==="path"?a.pathname:i.from??o.fullPath,c=this.resolvePathWithBase(u,"."),l=o.search,f={...o.params},h=i.to?this.resolvePathWithBase(c,`${i.to}`):this.resolvePathWithBase(c,"."),p=i.params===!1||i.params===null?{}:(i.params??!0)===!0?f:Object.assign(f,ct(i.params,f)),m=be({path:h,params:p,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,y=this.getMatchedRoutes(m);let g=y.matchedRoutes;(y.foundRoute?y.foundRoute.path!=="/"&&y.routeParams["**"]:it(m))&&this.options.notFoundRoute&&(g=[...g,this.options.notFoundRoute]);let b=!1;if(Object.keys(p).length>0)for(const I of g){const B=I.options.params?.stringify??I.options.stringifyParams;B&&(b=!0,Object.assign(p,B(p)))}const w=s.leaveParams?h:Ft(b?be({path:h,params:p,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:m);let _=l;if(s._includeValidateSearch&&this.options.search?.strict){const I={};g.forEach(B=>{if(B.options.validateSearch)try{Object.assign(I,Zt(B.options.validateSearch,{...I,..._}))}catch{}}),_=I}_=Kn({search:_,dest:i,destRoutes:g,_includeValidateSearch:s._includeValidateSearch}),_=G(l,_);const L=this.options.stringifySearch(_),O=i.hash===!0?a.hash:i.hash?ct(i.hash,a.hash):void 0,P=O?`#${O}`:"";let R=i.state===!0?a.state:i.state?ct(i.state,a.state):{};R=G(a.state,R);const x=`${w}${L}${P}`;let A,M,j=!1;if(this.rewrite){const I=new URL(x,this.origin),B=lr(this.rewrite,I);A=I.href.replace(I.origin,""),B.origin!==this.origin?(M=B.href,j=!0):M=B.pathname+B.search+B.hash}else A=rn(x),M=A;return{publicHref:M,href:A,pathname:w,search:_,searchStr:L,state:R,hash:O??"",external:j,unmaskOnReload:i.unmaskOnReload}},n=(i={},a)=>{const o=r(i);let u=a?r(a):void 0;if(!u){const c={};if(this.options.routeMasks){const l=cn(o.pathname,this.processedTree);if(l){Object.assign(c,l.rawParams);const{from:f,params:h,...p}=l.route,m=h===!1||h===null?{}:(h??!0)===!0?c:Object.assign(c,ct(h,c));a={from:s.from,...p,params:m},u=r(a)}}}return u&&(o.maskedLocation=u),o};return s.mask?n(s,{from:s.from,...s.mask}):n(s)},this.commitLocation=async({viewTransition:s,ignoreBlocker:r,...n})=>{const i=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(l=>{n.state[l]=this.latestLocation.state[l]});const c=yt(n.state,this.latestLocation.state);return u.forEach(l=>{delete n.state[l]}),c},a=it(this.latestLocation.href)===it(n.href),o=this.commitLocationPromise;if(this.commitLocationPromise=Tt(()=>{o?.resolve()}),a&&i())this.load();else{let{maskedLocation:u,hashScrollIntoView:c,...l}=n;u&&(l={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=s,this.history[n.replace?"replace":"push"](l.publicHref,l.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:r,hashScrollIntoView:n,viewTransition:i,ignoreBlocker:a,href:o,...u}={})=>{if(o){const f=this.history.location.state.__TSR_index,h=ee(o,{__TSR_index:s?f:f+1}),p=new URL(h.pathname,this.origin),m=Ae(this.rewrite,p);u.to=m.pathname,u.search=this.options.parseSearch(h.search),u.hash=h.hash.slice(1)}const c=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=c;const l=this.commitLocation({...c,viewTransition:i,replace:s,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===c&&(this.pendingBuiltLocation=void 0)}),l},this.navigate=async({to:s,reloadDocument:r,href:n,publicHref:i,...a})=>{let o=!1;if(n)try{new URL(`${n}`),o=!0}catch{}if(o&&!r&&(r=!0),r){if(s!==void 0||!n){const c=this.buildLocation({to:s,...a});n=n??c.publicHref,i=i??c.publicHref}const u=!o&&i?i:n;if(re(u))return Promise.resolve();if(!a.ignoreBlocker){const l=this.history.getBlockers?.()??[];for(const f of l)if(f?.blockerFn&&await f.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(u):window.location.href=u,Promise.resolve()}return this.buildAndCommitLocation({...a,href:n,to:s,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const s=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:s,cachedMatches:r.cachedMatches.filter(n=>!s.some(i=>i.id===n.id))}))},this.load=async s=>{let r,n,i;for(i=new Promise(o=>{this.startTransition(async()=>{try{this.beforeLoad();const u=this.latestLocation,c=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...gt({resolvedLocation:c,location:u})}),this.emit({type:"onBeforeLoad",...gt({resolvedLocation:c,location:u})}),await Os({router:this,sync:s?.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let l=[],f=[],h=[];Ht(()=>{this.__store.setState(p=>{const m=p.matches,y=p.pendingMatches||p.matches;return l=m.filter(g=>!y.some(v=>v.id===g.id)),f=y.filter(g=>!m.some(v=>v.id===g.id)),h=y.filter(g=>m.some(v=>v.id===g.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:y,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...l.filter(g=>g.status!=="error"&&g.status!=="notFound")]}}),this.clearExpiredCache()}),[[l,"onLeave"],[f,"onEnter"],[h,"onStay"]].forEach(([p,m])=>{p.forEach(y=>{this.looseRoutesById[y.routeId].options[m]?.(y)})})})})}})}catch(u){et(u)?(r=u,this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):X(u)&&(n=u),this.__store.setState(c=>({...c,statusCode:r?r.status:n?404:c.matches.some(l=>l.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(o=>o.status==="error")&&(a=500),a!==void 0&&this.__store.setState(o=>({...o,statusCode:a}))},this.startViewTransition=s=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,a=this.state.resolvedLocation,o=typeof r.types=="function"?r.types(gt({resolvedLocation:a,location:i})):r.types;if(o===!1){s();return}n={update:s,types:o}}else n=s;document.startViewTransition(n)}else s()},this.updateMatch=(s,r)=>{this.startTransition(()=>{const n=this.state.pendingMatches?.some(i=>i.id===s)?"pendingMatches":this.state.matches.some(i=>i.id===s)?"matches":this.state.cachedMatches.some(i=>i.id===s)?"cachedMatches":"";n&&this.__store.setState(i=>({...i,[n]:i[n]?.map(a=>a.id===s?r(a):a)}))})},this.getMatch=s=>{const r=n=>n.id===s;return this.state.cachedMatches.find(r)??this.state.pendingMatches?.find(r)??this.state.matches.find(r)},this.invalidate=s=>{const r=n=>s?.filter?.(n)??!0?{...n,invalid:!0,...s?.forcePending||n.status==="error"||n.status==="notFound"?{status:"pending",error:void 0}:void 0}:n;return this.__store.setState(n=>({...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:n.pendingMatches?.map(r)})),this.shouldViewTransition=!1,this.load({sync:s?.sync})},this.getParsedLocationHref=s=>s.publicHref||"/",this.resolveRedirect=s=>{const r=s.headers.get("Location");if(!s.options.href||s.options._builtLocation){const n=s.options._builtLocation??this.buildLocation(s.options),i=this.getParsedLocationHref(n);s.options.href=i,s.headers.set("Location",i)}else if(r)try{const n=new URL(r);if(this.origin&&n.origin===this.origin){const i=n.pathname+n.search+n.hash;s.options.href=i,s.headers.set("Location",i)}}catch{}return s.headers.get("Location")||s.headers.set("Location",s.options.href),s},this.clearCache=s=>{const r=s?.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(i=>!r(i))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const s=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const i=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=i};this.clearCache({filter:s})},this.loadRouteChunk=ar,this.preloadRoute=async s=>{const r=this.buildLocation(s);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:s});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(o=>o.id)),a=new Set([...i,...this.state.cachedMatches.map(o=>o.id)]);Ht(()=>{n.forEach(o=>{a.has(o.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,o]}))})});try{return n=await Os({router:this,matches:n,location:r,preload:!0,updateMatch:(o,u)=>{i.has(o)?n=n.map(c=>c.id===o?u(c):c):this.updateMatch(o,u)}}),n}catch(o){if(et(o))return o.options.reloadDocument?void 0:await this.preloadRoute({...o.options,_fromLocation:r});X(o)||console.error(o);return}},this.matchRoute=(s,r)=>{const n={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},i=this.buildLocation(n);if(r?.pending&&this.state.status!=="pending")return!1;const o=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=un(i.pathname,r?.caseSensitive??!1,r?.fuzzy??!1,o.pathname,this.processedTree);return!u||s.params&&!yt(u.rawParams,s.params,{partial:!0})?!1:r?.includeSearch??!0?yt(o.search,i.search,{partial:!0})?u.rawParams:!1:u.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Ln,parseSearch:e.parseSearch??Tn}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:e,routesByPath:s,processedTree:r}){this.routesById=e,this.routesByPath=s,this.processedTree=r;const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999}),this.routesById[n.id]=n)}get looseRoutesById(){return this.routesById}getParentContext(e){return e?.id?e.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(e,s){const r=this.getMatchedRoutes(e.pathname),{foundRoute:n,routeParams:i,parsedParams:a}=r;let{matchedRoutes:o}=r,u=!1;(n?n.path!=="/"&&i["**"]:it(e.pathname))&&(this.options.notFoundRoute?o=[...o,this.options.notFoundRoute]:u=!0);const c=u?Wn(this.options.notFoundMode,o):void 0,l=new Array(o.length);for(let f=0;f<o.length;f++){const h=o[f],p=l[f-1];let m,y,g;{const I=p?.search??e.search,B=p?._strictSearch??void 0;try{const q=Zt(h.options.validateSearch,{...I})??void 0;m={...I,...q},y={...B,...q},g=void 0}catch(q){let J=q;if(q instanceof ae||(J=new ae(q.message,{cause:q})),s?.throwOnError)throw J;m=I,y={},g=J}}const v=h.options.loaderDeps?.({search:m})??"",b=v?JSON.stringify(v):"",{interpolatedPath:w,usedParams:_}=be({path:h.fullPath,params:i,decoder:this.pathParamsDecoder,server:this.isServer}),L=h.id+w+b,O=this.getMatch(L),P=this.state.matches.find(I=>I.routeId===h.id),R=O?._strictParams??_;let x;if(!O)try{Ts(h,_,a,R)}catch(I){if(X(I)||et(I)?x=I:x=new $n(I.message,{cause:I}),s?.throwOnError)throw x}Object.assign(i,R);const A=P?"stay":"enter";let M;if(O)M={...O,cause:A,params:P?G(P.params,i):i,_strictParams:R,search:G(P?P.search:O.search,m),_strictSearch:y};else{const I=h.options.loader||h.options.beforeLoad||h.lazyFn||cr(h)?"pending":"success";M={id:L,ssr:h.options.ssr,index:f,routeId:h.id,params:P?G(P.params,i):i,_strictParams:R,pathname:w,updatedAt:Date.now(),search:P?G(P.search,m):m,_strictSearch:y,searchError:void 0,status:I,isFetching:!1,error:void 0,paramsError:x,__routeContext:void 0,_nonReactive:{loadPromise:Tt()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:A,loaderDeps:P?G(P.loaderDeps,v):v,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}s?.preload||(M.globalNotFound=c===h.id),M.searchError=g;const j=this.getParentContext(p);M.context={...j,...M.__routeContext,...M.__beforeLoadContext},l[f]=M}for(let f=0;f<l.length;f++){const h=l[f],p=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)){const y=l[f-1],g=this.getParentContext(y);if(p.options.context){const v={deps:h.loaderDeps,params:h.params,context:g??{},location:e,navigate:b=>this.navigate({...b,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:l,routeId:p.id};h.__routeContext=p.options.context(v)??void 0}h.context={...g,...h.__routeContext,...h.__beforeLoadContext}}}return l}matchRoutesLightweight(e){const{matchedRoutes:s,routeParams:r,parsedParams:n}=this.getMatchedRoutes(e.pathname),i=$t(s),a={...e.search};for(const l of s)try{Object.assign(a,Zt(l.options.validateSearch,a))}catch{}const o=$t(this.state.matches),u=o&&o.routeId===i.id&&e.pathname===this.state.location.pathname;let c;if(u)c=o.params;else{const l={...r};for(const f of s)try{Ts(f,r,n??{},l)}catch{}c=l}return{matchedRoutes:s,fullPath:i.fullPath,search:a,params:c}}}class ae extends Error{}class $n extends Error{}function Qn(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Zt(t,e){if(t==null)return{};if("~standard"in t){const s=t["~standard"].validate(e);if(s instanceof Promise)throw new ae("Async validation not supported");if(s.issues)throw new ae(JSON.stringify(s.issues,void 0,2),{cause:s});return s.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function qn({pathname:t,routesById:e,processedTree:s}){const r={},n=it(t);let i,a;const o=ln(n,s,!0);return o&&(i=o.route,Object.assign(r,o.rawParams),a=Object.assign({},o.parsedParams)),{matchedRoutes:o?.branch||[e[Z]],routeParams:r,foundRoute:i,parsedParams:a}}function Kn({search:t,dest:e,destRoutes:s,_includeValidateSearch:r}){return zn(s)(t,e,r??!1)}function zn(t){const e={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const n of t){if("search"in n.options)n.options.search?.middlewares&&e.middlewares.push(...n.options.search.middlewares);else if(n.options.preSearchFilters||n.options.postSearchFilters){const i=({search:a,next:o})=>{let u=a;"preSearchFilters"in n.options&&n.options.preSearchFilters&&(u=n.options.preSearchFilters.reduce((l,f)=>f(l),a));const c=o(u);return"postSearchFilters"in n.options&&n.options.postSearchFilters?n.options.postSearchFilters.reduce((l,f)=>f(l),c):c};e.middlewares.push(i)}if(n.options.validateSearch){const i=({search:a,next:o})=>{const u=o(a);if(!e._includeValidateSearch)return u;try{return{...u,...Zt(n.options.validateSearch,u)??void 0}}catch{return u}};e.middlewares.push(i)}}const s=({search:n})=>{const i=e.dest;return i.search?i.search===!0?n:ct(i.search,n):{}};e.middlewares.push(s);const r=(n,i,a)=>{if(n>=a.length)return i;const o=a[n];return o({search:i,next:c=>r(n+1,c,a)})};return function(i,a,o){return e.dest=a,e._includeValidateSearch=o,r(0,i,e.middlewares)}}function Wn(t,e){if(t!=="root")for(let s=e.length-1;s>=0;s--){const r=e[s];if(r.children)return r.id}return Z}function Ts(t,e,s,r){const n=t.options.params?.parse??t.options.parseParams;if(n)if(t.options.skipRouteOnParseError)for(const i in e)i in s&&(r[i]=s[i]);else{const i=n(r);Object.assign(r,i)}}const Vn="Error preloading route! ";class hr{constructor(e){if(this.init=s=>{this.originalIndex=s.originalIndex;const r=this.options,n=!r?.path&&!r?.id;this.parentRoute=this.options.getParentRoute?.(),n?this._path=Z:this.parentRoute||ot(!1);let i=n?Z:r?.path;i&&i!=="/"&&(i=er(i));const a=r?.id||i;let o=n?Z:Jt([this.parentRoute.id===Z?"":this.parentRoute.id,a]);i===Z&&(i="/"),o!==Z&&(o=Jt(["/",o]));const u=o===Z?"/":Jt([this.parentRoute.fullPath,i]);this._path=i,this._id=o,this._fullPath=u,this._to=it(u)},this.addChildren=s=>this._addFileChildren(s),this._addFileChildren=s=>(Array.isArray(s)&&(this.children=s),typeof s=="object"&&s!==null&&(this.children=Object.values(s)),this),this._addFileTypes=()=>this,this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.redirect=s=>In({from:this.fullPath,...s}),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class Gn extends hr{constructor(e){super(e)}}const Gt=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Ce(t){const e=C.useRef({value:t,prev:null}),s=e.current.value;return t!==s&&(e.current={value:t,prev:s}),e.current.prev}function Yn(t,e,s={},r={}){C.useEffect(()=>{if(!t.current||r.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([i])=>{e(i)},s);return n.observe(t.current),()=>{n.disconnect()}},[e,s,r.disabled,t])}function Jn(t){const e=C.useRef(null);return C.useImperativeHandle(t,()=>e.current,[]),e}function We(t){const e=t.errorComponent??Ve;return T.jsx(Xn,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:s,reset:r})=>s?C.createElement(e,{error:s,reset:r}):t.children})}class Xn extends C.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,s){this.props.onCatch&&this.props.onCatch(e,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Ve({error:t}){const[e,s]=C.useState(!1);return T.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[T.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),T.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(r=>!r),children:e?"Hide Error":"Show Error"})]}),T.jsx("div",{style:{height:".25rem"}}),e?T.jsx("div",{children:T.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?T.jsx("code",{children:t.message}):null})}):null]})}function Zn({children:t,fallback:e=null}){return fr()?T.jsx(Ot.Fragment,{children:t}):T.jsx(Ot.Fragment,{children:e})}function fr(){return Ot.useSyncExternalStore(ti,()=>!0,()=>!1)}function ti(){return()=>{}}var Ee={exports:{}},Oe={},Te={exports:{}},Le={};var Ls;function ei(){if(Ls)return Le;Ls=1;var t=he();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var s=typeof Object.is=="function"?Object.is:e,r=t.useState,n=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(f,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,g=m[1];return i(function(){y.value=p,y.getSnapshot=h,u(y)&&g({inst:y})},[f,p,h]),n(function(){return u(y)&&g({inst:y}),f(function(){u(y)&&g({inst:y})})},[f]),a(p),p}function u(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!s(f,p)}catch{return!0}}function c(f,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return Le.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:l,Le}var Ms;function si(){return Ms||(Ms=1,Te.exports=ei()),Te.exports}var ks;function ri(){if(ks)return Oe;ks=1;var t=he(),e=si();function s(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:s,n=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Oe.useSyncExternalStoreWithSelector=function(c,l,f,h,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function v(O){if(!b){if(b=!0,w=O,O=h(O),p!==void 0&&y.hasValue){var P=y.value;if(p(P,O))return _=P}return _=O}if(P=_,r(w,O))return P;var R=h(O);return p!==void 0&&p(P,R)?(w=O,P):(w=O,_=R)}var b=!1,w,_,L=f===void 0?null:f;return[function(){return v(l())},L===null?void 0:function(){return v(L())}]},[l,f,h,p]);var g=n(c,m[0],m[1]);return a(function(){y.hasValue=!0,y.value=g},[g]),u(g),g},Oe}var Is;function ni(){return Is||(Is=1,Ee.exports=ri()),Ee.exports}var ii=ni();function oi(t,e=r=>r,s={}){const r=s.equal??ai;return ii.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,r)}function ai(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,n]of t)if(!e.has(r)||!Object.is(n,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const s=Fs(t);if(s.length!==Fs(e).length)return!1;for(let r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(e,s[r])||!Object.is(t[s[r]],e[s[r]]))return!1;return!0}function Fs(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const Me=C.createContext(null);function dr(){return typeof document>"u"?Me:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Me,Me)}function st(t){const e=C.useContext(dr());return t?.warn,e}function Y(t){const e=st({warn:t?.router===void 0}),s=t?.router||e,r=C.useRef(void 0);return oi(s.__store,n=>{if(t?.select){if(t.structuralSharing??s.options.defaultStructuralSharing){const i=G(r.current,t.select(n));return r.current=i,i}return t.select(n)}return n})}const pe=C.createContext(void 0),ci=C.createContext(void 0);function nt(t){const e=C.useContext(t.from?ci:pe);return Y({select:r=>{const n=r.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(ot(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function Ge(t){return nt({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Ye(t){const{select:e,...s}=t;return nt({...s,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Je(t){return nt({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const s=t.strict===!1?e.params:e._strictParams;return t.select?t.select(s):s}})}function Xe(t){return nt({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ze(t){const e=st();return C.useCallback(s=>e.navigate({...s,from:s.from??t?.from}),[t?.from,e])}var pr=Qr();const fo=Gs(pr);function ui(t,e){const s=st(),r=Jn(e),{activeProps:n,inactiveProps:i,activeOptions:a,to:o,preload:u,preloadDelay:c,hashScrollIntoView:l,replace:f,startTransition:h,resetScroll:p,viewTransition:m,children:y,target:g,disabled:v,style:b,className:w,onClick:_,onFocus:L,onMouseEnter:O,onMouseLeave:P,onTouchStart:R,ignoreBlocker:x,params:A,search:M,hash:j,state:I,mask:B,reloadDocument:q,unsafeRelative:J,from:_t,_fromLocation:is,...kt}=t,Kt=fr(),d=Y({select:H=>H.location.search,structuralSharing:!0}),S=t.from,k=C.useMemo(()=>({...t,from:S}),[s,d,S,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),E=C.useMemo(()=>s.buildLocation({...k}),[s,k]),D=E.maskedLocation?E.maskedLocation.publicHref:E.publicHref,N=E.maskedLocation?E.maskedLocation.external:E.external,U=C.useMemo(()=>mi(D,N,s.history,v),[v,N,D,s.history]),z=C.useMemo(()=>{if(U?.external)return re(U.href)?void 0:U.href;if(!yi(o)&&!(typeof o!="string"||o.indexOf(":")===-1))try{return new URL(o),re(o)?void 0:o}catch{}},[o,U]),Q=Y({select:H=>{if(z)return!1;if(a?.exact){if(!yn(H.location.pathname,E.pathname,s.basepath))return!1}else{const V=ie(H.location.pathname,s.basepath),rt=ie(E.pathname,s.basepath);if(!(V.startsWith(rt)&&(V.length===rt.length||V[rt.length]==="/")))return!1}return(a?.includeSearch??!0)&&!yt(H.location.search,E.search,{partial:!a?.exact,ignoreUndefined:!a?.explicitUndefined})?!1:a?.includeHash?Kt&&H.location.hash===E.hash:!0}}),wt=Q?ct(n,{})??li:ke,zt=Q?ke:ct(i,{})??ke,os=[w,wt.className,zt.className].filter(Boolean).join(" "),as=(b||wt.style||zt.style)&&{...b,...wt.style,...zt.style},[kr,cs]=C.useState(!1),us=C.useRef(!1),bt=t.reloadDocument||z?!1:u??s.options.defaultPreload,me=c??s.options.defaultPreloadDelay??0,ft=C.useCallback(()=>{s.preloadRoute({...k}).catch(H=>{console.warn(H),console.warn(Vn)})},[s,k]),Ir=C.useCallback(H=>{H?.isIntersecting&&ft()},[ft]);Yn(r,Ir,pi,{disabled:!!v||bt!=="viewport"}),C.useEffect(()=>{us.current||!v&&bt==="render"&&(ft(),us.current=!0)},[v,ft,bt]);const Fr=H=>{const V=H.currentTarget.getAttribute("target"),rt=g!==void 0?g:V;if(!v&&!gi(H)&&!H.defaultPrevented&&(!rt||rt==="_self")&&H.button===0){H.preventDefault(),pr.flushSync(()=>{cs(!0)});const hs=s.subscribe("onResolved",()=>{hs(),cs(!1)});s.navigate({...k,replace:f,resetScroll:p,hashScrollIntoView:l,startTransition:h,viewTransition:m,ignoreBlocker:x})}};if(z)return{...kt,ref:r,href:z,...y&&{children:y},...g&&{target:g},...v&&{disabled:v},...b&&{style:b},...w&&{className:w},..._&&{onClick:_},...L&&{onFocus:L},...O&&{onMouseEnter:O},...P&&{onMouseLeave:P},...R&&{onTouchStart:R}};const ls=H=>{v||bt&&ft()},Ar=ls,Dr=H=>{if(!(v||!bt))if(!me)ft();else{const V=H.target;if(jt.has(V))return;const rt=setTimeout(()=>{jt.delete(V),ft()},me);jt.set(V,rt)}},jr=H=>{if(v||!bt||!me)return;const V=H.target,rt=jt.get(V);rt&&(clearTimeout(rt),jt.delete(V))};return{...kt,...wt,...zt,href:U?.href,ref:r,onClick:Nt([_,Fr]),onFocus:Nt([L,ls]),onMouseEnter:Nt([O,Dr]),onMouseLeave:Nt([P,jr]),onTouchStart:Nt([R,Ar]),disabled:!!v,target:g,...as&&{style:as},...os&&{className:os},...v&&hi,...Q&&fi,...Kt&&kr&&di}}const ke={},li={className:"active"},hi={role:"link","aria-disabled":!0},fi={"data-status":"active","aria-current":"page"},di={"data-transitioning":"transitioning"},jt=new WeakMap,pi={rootMargin:"100px"},Nt=t=>e=>{for(const s of t)if(s){if(e.defaultPrevented)return;s(e)}};function mi(t,e,s,r){if(!r)return e?{href:t,external:!0}:{href:s.createHref(t)||"/",external:!1}}function yi(t){if(typeof t!="string")return!1;const e=t.charCodeAt(0);return e===47?t.charCodeAt(1)!==47:e===46}const mr=C.forwardRef((t,e)=>{const{_asChild:s,...r}=t,{type:n,...i}=ui(r,e),a=typeof r.children=="function"?r.children({isActive:i["data-status"]==="active"}):r.children;if(!s){const{disabled:o,...u}=i;return C.createElement("a",u,a)}return C.createElement(s,i,a)});function gi(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class vi extends hr{constructor(e){super(e),this.useMatch=s=>nt({select:s?.select,from:this.id,structuralSharing:s?.structuralSharing}),this.useRouteContext=s=>nt({...s,from:this.id,select:r=>s?.select?s.select(r.context):r.context}),this.useSearch=s=>Xe({select:s?.select,structuralSharing:s?.structuralSharing,from:this.id}),this.useParams=s=>Je({select:s?.select,structuralSharing:s?.structuralSharing,from:this.id}),this.useLoaderDeps=s=>Ye({...s,from:this.id}),this.useLoaderData=s=>Ge({...s,from:this.id}),this.useNavigate=()=>Ze({from:this.fullPath}),this.Link=Ot.forwardRef((s,r)=>T.jsx(mr,{ref:r,from:this.fullPath,...s})),this.$$typeof=Symbol.for("react.memo")}}function Si(t){return new vi(t)}class Pi extends Gn{constructor(e){super(e),this.useMatch=s=>nt({select:s?.select,from:this.id,structuralSharing:s?.structuralSharing}),this.useRouteContext=s=>nt({...s,from:this.id,select:r=>s?.select?s.select(r.context):r.context}),this.useSearch=s=>Xe({select:s?.select,structuralSharing:s?.structuralSharing,from:this.id}),this.useParams=s=>Je({select:s?.select,structuralSharing:s?.structuralSharing,from:this.id}),this.useLoaderDeps=s=>Ye({...s,from:this.id}),this.useLoaderData=s=>Ge({...s,from:this.id}),this.useNavigate=()=>Ze({from:this.fullPath}),this.Link=Ot.forwardRef((s,r)=>T.jsx(mr,{ref:r,from:this.fullPath,...s})),this.$$typeof=Symbol.for("react.memo")}}function po(t){return new Pi(t)}function As(t){return typeof t=="object"?new Ds(t,{silent:!0}).createRoute(t):new Ds(t,{silent:!0}).createRoute}class Ds{constructor(e,s){this.path=e,this.createRoute=r=>{this.silent;const n=Si(r);return n.isRoot=!1,n},this.silent=s?.silent}}class js{constructor(e){this.useMatch=s=>nt({select:s?.select,from:this.options.id,structuralSharing:s?.structuralSharing}),this.useRouteContext=s=>nt({from:this.options.id,select:r=>s?.select?s.select(r.context):r.context}),this.useSearch=s=>Xe({select:s?.select,structuralSharing:s?.structuralSharing,from:this.options.id}),this.useParams=s=>Je({select:s?.select,structuralSharing:s?.structuralSharing,from:this.options.id}),this.useLoaderDeps=s=>Ye({...s,from:this.options.id}),this.useLoaderData=s=>Ge({...s,from:this.options.id}),this.useNavigate=()=>{const s=st();return Ze({from:s.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function Ns(t){return typeof t=="object"?new js(t):e=>new js({id:t,...e})}function Ri(){const t=st(),e=C.useRef({router:t,mounted:!1}),[s,r]=C.useState(!1),{hasPendingMatches:n,isLoading:i}=Y({select:f=>({isLoading:f.isLoading,hasPendingMatches:f.matches.some(h=>h.status==="pending")}),structuralSharing:!0}),a=Ce(i),o=i||s||n,u=Ce(o),c=i||n,l=Ce(c);return t.startTransition=f=>{r(!0),C.startTransition(()=>{f(),r(!1)})},C.useEffect(()=>{const f=t.history.subscribe(t.load),h=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return it(t.latestLocation.publicHref)!==it(h.publicHref)&&t.commitLocation({...h,replace:!0}),()=>{f()}},[t,t.history]),Gt(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(h){console.error(h)}})()},[t]),Gt(()=>{a&&!i&&t.emit({type:"onLoad",...gt(t.state)})},[a,t,i]),Gt(()=>{l&&!c&&t.emit({type:"onBeforeRouteMount",...gt(t.state)})},[c,l,t]),Gt(()=>{if(u&&!o){const f=gt(t.state);t.emit({type:"onResolved",...f}),t.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})),f.hrefChanged&&Cn(t)}},[o,u,t]),null}function _i(t){const e=Y({select:s=>`not-found-${s.location.pathname}-${s.status}`});return T.jsx(We,{getResetKey:()=>e,onCatch:(s,r)=>{if(X(s))t.onCatch?.(s,r);else throw s},errorComponent:({error:s})=>{if(X(s))return t.fallback?.(s);throw s},children:t.children})}function wi(){return T.jsx("p",{children:"Not Found"})}function xt(t){return T.jsx(T.Fragment,{children:t.children})}function yr(t,e,s){return e.options.notFoundComponent?T.jsx(e.options.notFoundComponent,{...s}):t.options.defaultNotFoundComponent?T.jsx(t.options.defaultNotFoundComponent,{...s}):T.jsx(wi,{})}function bi(){return st().isScrollRestoring,null}const gr=C.memo(function({matchId:e}){const s=st(),r=Y({select:y=>{const g=y.matches.findIndex(b=>b.id===e),v=y.matches[g];return ot(v),{routeId:v.routeId,ssr:v.ssr,_displayPending:v._displayPending,resetKey:y.loadedAt,parentRouteId:y.matches[g-1]?.routeId}},structuralSharing:!0}),n=s.routesById[r.routeId],i=n.options.pendingComponent??s.options.defaultPendingComponent,a=i?T.jsx(i,{}):null,o=n.options.errorComponent??s.options.defaultErrorComponent,u=n.options.onCatch??s.options.defaultOnCatch,c=n.isRoot?n.options.notFoundComponent??s.options.notFoundRoute?.options.component:n.options.notFoundComponent,l=r.ssr===!1||r.ssr==="data-only",f=(!n.isRoot||n.options.wrapInSuspense||l)&&(n.options.wrapInSuspense??i??(n.options.errorComponent?.preload||l))?C.Suspense:xt,h=o?We:xt,p=c?_i:xt,m=n.isRoot?n.options.shellComponent??xt:xt;return T.jsxs(m,{children:[T.jsx(pe.Provider,{value:e,children:T.jsx(f,{fallback:a,children:T.jsx(h,{getResetKey:()=>r.resetKey,errorComponent:o||Ve,onCatch:(y,g)=>{if(X(y))throw y;u?.(y,g)},children:T.jsx(p,{fallback:y=>{if(!c||y.routeId&&y.routeId!==r.routeId||!y.routeId&&!n.isRoot)throw y;return C.createElement(c,y)},children:l||r._displayPending?T.jsx(Zn,{fallback:a,children:T.jsx(Us,{matchId:e})}):T.jsx(Us,{matchId:e})})})})}),r.parentRouteId===Z&&s.options.scrollRestoration?T.jsxs(T.Fragment,{children:[T.jsx(xi,{}),T.jsx(bi,{})]}):null]})});function xi(){const t=st(),e=C.useRef(void 0);return T.jsx("script",{suppressHydrationWarning:!0,ref:s=>{s&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...gt(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const Us=C.memo(function({matchId:e}){const s=st(),{match:r,key:n,routeId:i}=Y({select:u=>{const c=u.matches.find(m=>m.id===e),l=c.routeId,h=(s.routesById[l].options.remountDeps??s.options.defaultRemountDeps)?.({routeId:l,loaderDeps:c.loaderDeps,params:c._strictParams,search:c._strictSearch});return{key:h?JSON.stringify(h):void 0,routeId:l,match:{id:c.id,status:c.status,error:c.error,invalid:c.invalid,_forcePending:c._forcePending,_displayPending:c._displayPending}}},structuralSharing:!0}),a=s.routesById[i],o=C.useMemo(()=>{const u=a.options.component??s.options.defaultComponent;return u?T.jsx(u,{},n):T.jsx(Ci,{})},[n,a.options.component,s.options.defaultComponent]);if(r._displayPending)throw s.getMatch(r.id)?._nonReactive.displayPendingPromise;if(r._forcePending)throw s.getMatch(r.id)?._nonReactive.minPendingPromise;if(r.status==="pending"){const u=a.options.pendingMinMs??s.options.defaultPendingMinMs;if(u){const c=s.getMatch(r.id);if(c&&!c._nonReactive.minPendingPromise){const l=Tt();c._nonReactive.minPendingPromise=l,setTimeout(()=>{l.resolve(),c._nonReactive.minPendingPromise=void 0},u)}}throw s.getMatch(r.id)?._nonReactive.loadPromise}if(r.status==="notFound")return ot(X(r.error)),yr(s,a,r.error);if(r.status==="redirected")throw ot(et(r.error)),s.getMatch(r.id)?._nonReactive.loadPromise;if(r.status==="error")throw r.error;return o}),Ci=C.memo(function(){const e=st(),s=C.useContext(pe),r=Y({select:c=>c.matches.find(l=>l.id===s)?.routeId}),n=e.routesById[r],i=Y({select:c=>{const f=c.matches.find(h=>h.id===s);return ot(f),f.globalNotFound}}),a=Y({select:c=>{const l=c.matches,f=l.findIndex(h=>h.id===s);return l[f+1]?.id}}),o=e.options.defaultPendingComponent?T.jsx(e.options.defaultPendingComponent,{}):null;if(i)return yr(e,n,void 0);if(!a)return null;const u=T.jsx(gr,{matchId:a});return r===Z?T.jsx(C.Suspense,{fallback:o,children:u}):u});function Ei(){const t=st(),s=t.routesById[Z].options.pendingComponent??t.options.defaultPendingComponent,r=s?T.jsx(s,{}):null,n=typeof document<"u"&&t.ssr?xt:C.Suspense,i=T.jsxs(n,{fallback:r,children:[T.jsx(Ri,{}),T.jsx(Oi,{})]});return t.options.InnerWrap?T.jsx(t.options.InnerWrap,{children:i}):i}function Oi(){const t=st(),e=Y({select:n=>n.matches[0]?.id}),s=Y({select:n=>n.loadedAt}),r=e?T.jsx(gr,{matchId:e}):null;return T.jsx(pe.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?r:T.jsx(We,{getResetKey:()=>s,errorComponent:Ve,onCatch:n=>{n.message||n.toString()},children:r})})}function mo(t){return Y({select:e=>e.matches,structuralSharing:t?.structuralSharing})}const yo=t=>new Ti(t);class Ti extends Hn{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=As,globalThis.createLazyFileRoute=Ns):typeof window<"u"&&(window.createFileRoute=As,window.createLazyFileRoute=Ns);function Li({router:t,children:e,...s}){Object.keys(s).length>0&&t.update({...t.options,...s,context:{...t.options.context,...s.context}});const r=dr(),n=T.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?T.jsx(t.options.Wrap,{children:n}):n}function go({router:t,...e}){return T.jsx(Li,{router:t,...e,children:T.jsx(Ei,{})})}function vo(t){return Y({select:e=>e.location})}var Mt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mi={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ki=class{#t=Mi;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},mt=new ki;function Ii(t){setTimeout(t,0)}var Pt=typeof window>"u"||"Deno"in globalThis;function W(){}function Fi(t,e){return typeof t=="function"?t(e):t}function De(t){return typeof t=="number"&&t>=0&&t!==1/0}function vr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ht(t,e){return typeof t=="function"?t(e):t}function tt(t,e){return typeof t=="function"?t(e):t}function Bs(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==ts(a,e.options))return!1}else if(!qt(e.queryKey,a))return!1}if(s!=="all"){const u=e.isActive();if(s==="active"&&!u||s==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||n&&n!==e.state.fetchStatus||i&&!i(e))}function Hs(t,e){const{exact:s,status:r,predicate:n,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(Rt(e.options.mutationKey)!==Rt(i))return!1}else if(!qt(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function ts(t,e){return(e?.queryKeyHashFn||Rt)(t)}function Rt(t){return JSON.stringify(t,(e,s)=>je(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function qt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>qt(t[s],e[s])):!1}var Ai=Object.prototype.hasOwnProperty;function Sr(t,e,s=0){if(t===e)return t;if(s>500)return e;const r=$s(t)&&$s(e);if(!r&&!(je(t)&&je(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,u=r?new Array(o):{};let c=0;for(let l=0;l<o;l++){const f=r?l:a[l],h=t[f],p=e[f];if(h===p){u[f]=h,(r?l<i:Ai.call(t,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){u[f]=p;continue}const m=Sr(h,p,s+1);u[f]=m,m===h&&c++}return i===o&&c===i?t:u}function ce(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function $s(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function je(t){if(!Qs(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Qs(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Qs(t){return Object.prototype.toString.call(t)==="[object Object]"}function Di(t){return new Promise(e=>{mt.setTimeout(e,t)})}function Ne(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Sr(t,e):e}function ji(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Ni(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var es=Symbol();function Pr(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===es?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ss(t,e){return typeof t=="function"?t(...e):!!t}function Ui(t,e,s){let r=!1,n;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(n??=e(),r||(r=!0,n.aborted?s():n.addEventListener("abort",s,{once:!0})),n)}),t}var Bi=class extends Mt{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!Pt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},rs=new Bi;function Ue(){let t,e;const s=new Promise((n,i)=>{t=n,e=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},s.reject=n=>{r({status:"rejected",reason:n}),e(n)},s}var Hi=Ii;function $i(){let t=[],e=0,s=o=>{o()},r=o=>{o()},n=Hi;const i=o=>{e?t.push(o):n(()=>{s(o)})},a=()=>{const o=t;t=[],o.length&&n(()=>{r(()=>{o.forEach(u=>{s(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var $=$i(),Qi=class extends Mt{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!Pt&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#t}},ue=new Qi;function qi(t){return Math.min(1e3*2**t,3e4)}function Rr(t){return(t??"online")==="online"?ue.isOnline():!0}var Be=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function _r(t){let e=!1,s=0,r;const n=Ue(),i=()=>n.status!=="pending",a=y=>{if(!i()){const g=new Be(y);h(g),t.onCancel?.(g)}},o=()=>{e=!0},u=()=>{e=!1},c=()=>rs.isFocused()&&(t.networkMode==="always"||ue.isOnline())&&t.canRun(),l=()=>Rr(t.networkMode)&&t.canRun(),f=y=>{i()||(r?.(),n.resolve(y))},h=y=>{i()||(r?.(),n.reject(y))},p=()=>new Promise(y=>{r=g=>{(i()||c())&&y(g)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),m=()=>{if(i())return;let y;const g=s===0?t.initialPromise:void 0;try{y=g??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{if(i())return;const b=t.retry??(Pt?0:3),w=t.retryDelay??qi,_=typeof w=="function"?w(s,v):w,L=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,v);if(e||!L){h(v);return}s++,t.onFail?.(s,v),Di(_).then(()=>c()?void 0:p()).then(()=>{e?h(v):m()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:u,canStart:l,start:()=>(l()?m():p().then(m),n)}}var wr=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),De(this.gcTime)&&(this.#t=mt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pt?1/0:300*1e3))}clearGcTimeout(){this.#t&&(mt.clearTimeout(this.#t),this.#t=void 0)}},Ki=class extends wr{#t;#e;#s;#n;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=Ks(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Ks(this.options);e.data!==void 0&&(this.setState(qs(e.data,e.dataUpdatedAt)),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const s=Ne(this.state.data,t,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(W).catch(W):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>tt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===es||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ht(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vr(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},n=()=>{const o=Pr(this.options,e),c=(()=>{const l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(l),l})();return this.#a=!1,this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=_r({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof Be&&o.revert&&this.setState({...this.#e,fetchStatus:"idle"}),s.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Be){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...br(s.data,this.options),fetchMeta:t.meta??null};case"success":const r={...s,...qs(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?r:void 0,r;case"error":const n=t.error;return{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),$.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function br(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rr(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function qs(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ks(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var xr=class extends Mt{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#a=Ue(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#s=void 0;#n=void 0;#r;#o;#a;#i;#m;#f;#d;#u;#l;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),zs(this.#e,this.options)?this.#h():this.updateResult(),this.#S())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return He(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return He(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#P(),this.#R(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,s=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof tt(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!ce(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Ws(this.#e,s,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#e!==s||tt(this.options.enabled,this.#e)!==tt(e.enabled,this.#e)||ht(this.options.staleTime,this.#e)!==ht(e.staleTime,this.#e))&&this.#y();const n=this.#g();r&&(this.#e!==s||tt(this.options.enabled,this.#e)!==tt(e.enabled,this.#e)||n!==this.#c)&&this.#v(n)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),s=this.createResult(e,t);return Wi(this,s)&&(this.#n=s,this.#o=this.options,this.#r=this.#e.state),s}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(s,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),s=this.#t.getQueryCache().build(this.#t,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#h(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(W)),e}#y(){this.#P();const t=ht(this.options.staleTime,this.#e);if(Pt||this.#n.isStale||!De(t))return;const s=vr(this.#n.dataUpdatedAt,t)+1;this.#u=mt.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#R(),this.#c=t,!(Pt||tt(this.options.enabled,this.#e)===!1||!De(this.#c)||this.#c===0)&&(this.#l=mt.setInterval(()=>{(this.options.refetchIntervalInBackground||rs.isFocused())&&this.#h()},this.#c))}#S(){this.#y(),this.#v(this.#g())}#P(){this.#u&&(mt.clearTimeout(this.#u),this.#u=void 0)}#R(){this.#l&&(mt.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const s=this.#e,r=this.options,n=this.#n,i=this.#r,a=this.#o,u=t!==s?t.state:this.#s,{state:c}=t;let l={...c},f=!1,h;if(e._optimisticResults){const R=this.hasListeners(),x=!R&&zs(t,e),A=R&&Ws(t,s,e,r);(x||A)&&(l={...l,...br(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:y}=l;h=l.data;let g=!1;if(e.placeholderData!==void 0&&h===void 0&&y==="pending"){let R;n?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(R=n.data,g=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,R!==void 0&&(y="success",h=Ne(n?.data,R,e),f=!0)}if(e.select&&h!==void 0&&!g)if(n&&h===i?.data&&e.select===this.#m)h=this.#f;else try{this.#m=e.select,h=e.select(h),h=Ne(n?.data,h,e),this.#f=h,this.#i=null}catch(R){this.#i=R}this.#i&&(p=this.#i,h=this.#f,m=Date.now(),y="error");const v=l.fetchStatus==="fetching",b=y==="pending",w=y==="error",_=b&&v,L=h!==void 0,P={status:y,fetchStatus:l.fetchStatus,isPending:b,isSuccess:y==="success",isError:w,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:l.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:w&&!L,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&L,isStale:ns(t,e),refetch:this.refetch,promise:this.#a,isEnabled:tt(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=P.data!==void 0,x=P.status==="error"&&!R,A=I=>{x?I.reject(P.error):R&&I.resolve(P.data)},M=()=>{const I=this.#a=P.promise=Ue();A(I)},j=this.#a;switch(j.status){case"pending":t.queryHash===s.queryHash&&A(j);break;case"fulfilled":(x||P.data!==j.value)&&M();break;case"rejected":(!x||P.error!==j.reason)&&M();break}}return P}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#o=this.options,this.#r.data!==void 0&&(this.#d=this.#e),ce(e,t))return;this.#n=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#p.size)return!0;const i=new Set(n??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==t[o]&&i.has(o)})};this.#w({listeners:s()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#S()}#w(t){$.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function zi(t,e){return tt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zs(t,e){return zi(t,e)||t.state.data!==void 0&&He(t,e,e.refetchOnMount)}function He(t,e,s){if(tt(e.enabled,t)!==!1&&ht(e.staleTime,t)!=="static"){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&ns(t,e)}return!1}function Ws(t,e,s,r){return(t!==e||tt(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ns(t,s)}function ns(t,e){return tt(e.enabled,t)!==!1&&t.isStaleByTime(ht(e.staleTime,t))}function Wi(t,e){return!ce(t.getCurrentResult(),e)}function le(t){return{onFetch:(e,s)=>{const r=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let l=!1;const f=m=>{Ui(m,()=>e.signal,()=>l=!0)},h=Pr(e.options,e.fetchOptions),p=async(m,y,g)=>{if(l)return Promise.reject();if(y==null&&m.pages.length)return Promise.resolve(m);const b=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:y,direction:g?"backward":"forward",meta:e.options.meta};return f(O),O})(),w=await h(b),{maxPages:_}=e.options,L=g?Ni:ji;return{pages:L(m.pages,w,_),pageParams:L(m.pageParams,y,_)}};if(n&&i.length){const m=n==="backward",y=m?Cr:$e,g={pages:i,pageParams:a},v=y(r,g);o=await p(g,v,m)}else{const m=t??i.length;do{const y=u===0?a[0]??r.initialPageParam:$e(r,o);if(u>0&&y==null)break;o=await p(o,y),u++}while(u<m)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=c}}}function $e(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function Cr(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}function Vi(t,e){return e?$e(t,e)!=null:!1}function Gi(t,e){return!e||!t.getPreviousPageParam?!1:Cr(t,e)!=null}var Yi=class extends xr{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:le()})}getOptimisticResult(t){return t.behavior=le(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:s}=t,r=super.createResult(t,e),{isFetching:n,isRefetching:i,isError:a,isRefetchError:o}=r,u=s.fetchMeta?.fetchMore?.direction,c=a&&u==="forward",l=n&&u==="forward",f=a&&u==="backward",h=n&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Vi(e,s.data),hasPreviousPage:Gi(e,s.data),isFetchNextPageError:c,isFetchingNextPage:l,isFetchPreviousPageError:f,isFetchingPreviousPage:h,isRefetchError:o&&!c&&!f,isRefetching:i&&!l&&!h}}},Ji=class extends wr{#t;#e;#s;#n;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#e=[],this.state=t.state||Er(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=_r({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#n.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:n}),this.#s.config.onMutate&&await this.#s.config.onMutate(t,this,s);const a=await this.options.onMutate?.(t,s);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:n})}const i=await this.#n.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,s),await this.options.onSuccess?.(i,t,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,t,this.state.context,s),this.#r({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,t,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,t,this.state.context,s)}catch(a){Promise.reject(a)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,s)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#r(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),$.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function Er(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xi=class extends Mt{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,e,s){const r=new Ji({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:s});return this.add(r),r}add(t){this.#t.add(t);const e=Yt(t);if(typeof e=="string"){const s=this.#e.get(e);s?s.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Yt(t);if(typeof e=="string"){const s=this.#e.get(e);if(s)if(s.length>1){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}else s[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Yt(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(n=>n.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Yt(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Hs(e,s))}findAll(t={}){return this.getAll().filter(e=>Hs(t,e))}notify(t){$.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return $.batch(()=>Promise.all(t.map(e=>e.continue().catch(W))))}};function Yt(t){return t.options.scope?.id}var Zi=class extends Mt{#t;#e=void 0;#s;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#t.defaultMutationOptions(t),ce(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&Rt(e.mutationKey)!==Rt(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#o()}mutate(t,e){return this.#n=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){const t=this.#s?.state??Er();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){$.batch(()=>{if(this.#n&&this.hasListeners()){const e=this.#e.variables,s=this.#e.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#n.onSuccess?.(t.data,e,s,r)}catch(n){Promise.reject(n)}try{this.#n.onSettled?.(t.data,null,e,s,r)}catch(n){Promise.reject(n)}}else if(t?.type==="error"){try{this.#n.onError?.(t.error,e,s,r)}catch(n){Promise.reject(n)}try{this.#n.onSettled?.(void 0,t.error,e,s,r)}catch(n){Promise.reject(n)}}}this.listeners.forEach(e=>{e(this.#e)})})}},to=class extends Mt{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,s){const r=e.queryKey,n=e.queryHash??ts(r,e);let i=this.get(n);return i||(i=new Ki({client:t,queryKey:r,queryHash:n,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Bs(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>Bs(t,s)):e}notify(t){$.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){$.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},So=class{#t;#e;#s;#n;#r;#o;#a;#i;constructor(t={}){this.#t=t.queryCache||new to,this.#e=t.mutationCache||new Xi,this.#s=t.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=rs.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=ue.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#t.build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(ht(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(r.queryHash)?.state.data,a=Fi(e,i);if(a!==void 0)return this.#t.build(this,r).setData(a,{...s,manual:!0})}setQueriesData(t,e,s){return $.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;$.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=this.#t;return $.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=$.batch(()=>this.#t.findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(W).catch(W)}invalidateQueries(t,e={}){return $.batch(()=>(this.#t.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=$.batch(()=>this.#t.findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(W)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(W)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=this.#t.build(this,e);return s.isStaleByTime(ht(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(W).catch(W)}fetchInfiniteQuery(t){return t.behavior=le(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(W).catch(W)}ensureInfiniteQueryData(t){return t.behavior=le(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ue.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#n.set(Rt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],s={};return e.forEach(r=>{qt(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){this.#r.set(Rt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],s={};return e.forEach(r=>{qt(t,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ts(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===es&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Or=C.createContext(void 0),Tr=t=>{const e=C.useContext(Or);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Po=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(Or.Provider,{value:t,children:e})),Lr=C.createContext(!1),eo=()=>C.useContext(Lr);Lr.Provider;function so(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ro=C.createContext(so()),no=()=>C.useContext(ro),io=(t,e,s)=>{const r=s?.state.error&&typeof t.throwOnError=="function"?ss(t.throwOnError,[s.state.error,s]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},oo=t=>{C.useEffect(()=>{t.clearReset()},[t])},ao=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||ss(s,[t.error,r])),co=t=>{if(t.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},uo=(t,e)=>t.isLoading&&t.isFetching&&!e,lo=(t,e)=>t?.suspense&&e.isPending,Vs=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Mr(t,e,s){const r=eo(),n=no(),i=Tr(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",co(a),io(a,n,o),oo(n);const u=!i.getQueryCache().get(a.queryHash),[c]=C.useState(()=>new e(i,a)),l=c.getOptimisticResult(a),f=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(h=>{const p=f?c.subscribe($.batchCalls(h)):W;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(a)},[a,c]),lo(a,l))throw Vs(a,c,n);if(ao({result:l,errorResetBoundary:n,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw l.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,l),a.experimental_prefetchInRender&&!Pt&&uo(l,r)&&(u?Vs(a,c,n):o?.promise)?.catch(W).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?l:c.trackResult(l)}function Ro(t,e){return Mr(t,xr)}function _o(t,e){const s=Tr(),[r]=C.useState(()=>new Zi(s,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const n=C.useSyncExternalStore(C.useCallback(a=>r.subscribe($.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=C.useCallback((a,o)=>{r.mutate(a,o).catch(W)},[r]);if(n.error&&ss(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function wo(t,e){return Mr(t,Yi)}export{sr as A,be as B,mr as L,Ci as O,So as Q,Ot as R,Qr as a,Y as b,C as c,fo as d,Tr as e,ho as f,Gs as g,pr as h,si as i,T as j,vo as k,Ro as l,_o as m,Ze as n,po as o,Po as p,As as q,he as r,wo as s,Je as t,st as u,mo as v,yo as w,go as x,ot as y,Z as z};
